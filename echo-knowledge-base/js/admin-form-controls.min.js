jQuery(document).ready((function(t){t("#ekb-admin-page-wrap");let e;t(document).on("click","#ekb-admin-page-wrap .epkb__option-tooltip__button",(function(){const o=t(this).parent().find(".epkb__option-tooltip__contents");let n="block"===o.css("display");o.fadeOut(),n||(clearTimeout(e),o.fadeIn())})),t(document).on("mouseenter","#ekb-admin-page-wrap .epkb__option-tooltip__button, #ekb-admin-page-wrap .epkb__option-tooltip__contents",(function(){const o=t(this).parent().find(".epkb__option-tooltip__contents");clearTimeout(e),o.fadeIn()})),t(document).on("mouseleave","#ekb-admin-page-wrap .epkb__option-tooltip__button, #ekb-admin-page-wrap .epkb__option-tooltip__contents",(function(){const o=t(this).parent().find(".epkb__option-tooltip__contents");e=setTimeout((function(){o.fadeOut()}),1e3)})),t(document).on("click","#ekb-admin-page-wrap .eckb-tooltip-button",(function(){t(this).parent().find(".eckb-tooltip-contents").fadeToggle()})),t(document).on("click","#ekb-admin-page-wrap .epkb-admin__input-disabled, #ekb-admin-page-wrap .epkb__option-pro-tag",(function(){let e=t(this).closest(".epkb-input-group").find(".epkb__option-pro-tooltip"),o=e.is(":visible");t(".epkb__option-pro-tooltip").hide(),o?e.hide():e.show()})),t(document).on("click",(function(e){let o=t(e.target);o.closest(".epkb__option-pro-tooltip").length||o.closest(".epkb-admin__input-disabled").length||o.closest(".epkb__option-pro-tag").length||t(".epkb__option-pro-tooltip").hide()})),t(document).on("click",".epkb-input-custom-dropdown__input",(function(e){e.stopPropagation();let o=t(this).closest(".input_container").find(".epkb-input-custom-dropdown__options-list");t(".epkb-input-custom-dropdown__options-list").not(o).hide(),t(o).toggle()})),t(document).on("click",".epkb-input-custom-dropdown__option",(function(){let e=t(this).data("value"),o=t(this).closest(".input_container");o.find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),t(this).addClass("epkb-input-custom-dropdown__option--selected");let n=o.find("select").val();o.find(".epkb-input-custom-dropdown__options-list").hide(),o.find("select").val(e).trigger("change");let i=o.find('select option[value="'+e+'"]').html();o.find(".epkb-input-custom-dropdown__input span").html(i);let c=o.find("select").attr("name"),p=t(this).closest("[data-custom-unselection-group]").data("custom-unselection-group");t('[data-custom-unselection-group="'+p+'"] select').each((function(){c!==t(this).attr("name")&&t(this).val()===e&&(t(this).val("none").trigger("change",!0),t(this).closest(".eckb-conditional-setting-input").trigger("click"))}));let d=t(this).closest("[data-custom-nonzero-unselection-group]").data("custom-nonzero-unselection-group");if(t('[data-custom-nonzero-unselection-group="'+d+'"] select').each((function(){parseInt(e)>0&&c!==t(this).attr("name")&&parseInt(t(this).val())>0&&(t(this).val("0").trigger("change",!0),t(this).closest(".eckb-conditional-setting-input").trigger("click"))})),"ml-row"===p&&"none"===n&&"none"!==e){t(this).closest(".epkb-admin__form-sub-tab-wrap").prevAll(".epkb-admin__form-sub-tab-wrap").each((function(){let e=t(this).find('[data-custom-selection-group="ml-row"] select');if(e.length&&"none"!==e.val()){let o=e.attr("name"),n=o.replace("_module","_desktop_width"),i=o.replace("_module","_desktop_width_units"),p=c.replace("_module","_desktop_width"),d=c.replace("_module","_desktop_width_units"),a=t('[name="'+n+'"]').val(),s=t('[name="'+i+'"]:checked').val();return t('[name="'+p+'"]').val(a).trigger("change"),t('[name="'+d+'"][value="'+s+'"]').trigger("click"),!1}}))}})),t(document).on("change",".epkb-input-custom-dropdown select",(function(e){let o=t(this).val(),n=t(this).closest(".input_container");t(n).find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),t(n).find('.epkb-input-custom-dropdown__option[data-value="'+o+'"]').addClass("epkb-input-custom-dropdown__option--selected");let i=t(n).find('select option[value="'+o+'"]').html();t(n).find(".epkb-input-custom-dropdown__input span").html(i),function(){let e=[];t("[data-custom-selection-group]").each((function(){let o=t(this).data("custom-selection-group");e.includes(o)||(e.push(o),t('[data-custom-selection-group="'+o+'"] .epkb-input-custom-dropdown__option-mark').html(""),t('[data-custom-selection-group="'+o+'"]').each((function(){let e=t(this).find("select").val();if("none"===e)return;let n=t(this).data("custom-selection-label");n&&t('[data-custom-selection-group="'+o+'"] [data-value="'+e+'"]:not(.epkb-input-custom-dropdown__option--selected)').find(".epkb-input-custom-dropdown__option-mark").html("("+n+")")})))}))}(),t(this).closest(".epkb-input-custom-dropdown").find(".epkb-input-custom-dropdown__option-icon").removeClass("epkb-input-custom-dropdown__option-icon--active"),t(this).closest(".epkb-input-custom-dropdown").find('.epkb-input-custom-dropdown__option-icon[data-option-value="'+o+'"]').addClass("epkb-input-custom-dropdown__option-icon--active")})),t(document).on("click",(function(){t(".epkb-input-custom-dropdown__options-list").hide()})),t(".epkb-input-custom-dropdown select").trigger("change"),t(document).on("click",".epkb-admin__form-tab-content-lm__toggler",(function(e){e.stopPropagation(),t(this).closest(".epkb-admin__form-tab-content-learn-more").hasClass("epkb-admin__form-tab-content-learn-more--active")?t(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"):(t(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"),t(this).closest(".epkb-admin__form-tab-content-learn-more").addClass("epkb-admin__form-tab-content-learn-more--active"))})),t("body").on("click",(function(){t(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active")})),t(document).on("click",".epkb-copy-to-clipboard-box-container .epkb-ctc__copy-button",(function(e){e.preventDefault();let o=document.createElement("textarea"),n=t(this).closest(".epkb-copy-to-clipboard-box-container");o.value=n.find(".epkb-ctc__embed-code").text(),o.style.position="fixed",document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),o.remove(),n.find(".epkb-ctc__embed-code").css({opacity:0}),n.find(".epkb-ctc__embed-notification").fadeIn(200),setTimeout((function(){n.find(".epkb-ctc__embed-code").css({opacity:1}),n.find(".epkb-ctc__embed-notification").hide()}),1500)}));let o=!1;function n(e){let o=t("#"+e);o.length&&o.hasClass("eckb-conditional-setting-input")&&setTimeout((function(){o.trigger("click")}),1)}t(".epkb-admin__color-field input").wpColorPicker({change:function(e,n){if(o)return;o=!0;let i=t(e.target).wpColorPicker("color"),c=t(e.target).attr("name");t('.epkb-admin__color-field input[name="'+c+'"]').not(e.target).each((function(){t(this).wpColorPicker("color",i)})),o=!1}}),t(document).on("click",".eckb-conditional-setting-input",(function(){let e=t(this).find("input");"radio"===t(e[0]).attr("type")&&(e=t(this).find("input:checked")),e.length||(e=t(this).find("select"));let o=t(".eckb-condition-depend__"+e.attr("name")),i=t(".eckb-condition-depend-and__"+e.attr("name"));"none"!==t(this).css("display")?(o.each((function(){let e=t(this).data("dependency-ids");if(void 0===e)return;e=e.split(" ");let o=t(this).data("enable-on-values");if(void 0!==o){o=o.split(" "),t(this).hide(),t(this).closest(".epkb-input-group-combined-units").find(".epkb-input-desc").hide();for(let i=0;i<e.length;i++){let c=t("#"+e[i]);if(void 0===c||!c.length)continue;if("none"===t(c).closest(".epkb-admin__input-field").css("display"))continue;let p=t(c).is("select")?c:c.find("input");if("radio"!==p.attr("type")&&"checkbox"!==p.attr("type")||(p=t(c).find("input:checked")),void 0===p||!p.length)continue;let d=t(this).attr("id");if(o.indexOf(p.val())>=0)return t(this).show(),t(this).closest(".epkb-input-group-combined-units").find(".epkb-input-desc").show(),void n(d);n(d)}}})),i.each((function(){let e=this,o=t(e).data("dependency-and");if(void 0!==o){o=o.trim().split(" "),t(e).show();for(let i=0;i<o.length;i++){let c=t(this).attr("id"),p=o[i].split("--")[0],d=o[i].split("--")[1],a=t("#"+p);if(void 0===a||!a.length)return t(e).hide(),void n(c);if("none"===t(a).closest(".epkb-admin__input-field").css("display"))return t(e).hide(),void n(c);let s=t(a).is("select")?a:a.find("input");if("radio"!==s.attr("type")&&"checkbox"!==s.attr("type")||(s=t(a).find("input:checked")),void 0===s||!s.length)return t(e).hide(),void n(c);if(s.val()!==d)return t(e).hide(),void n(c);n(c)}}}))):t(i).hide()})),t(".eckb-conditional-setting-input").trigger("click")}));