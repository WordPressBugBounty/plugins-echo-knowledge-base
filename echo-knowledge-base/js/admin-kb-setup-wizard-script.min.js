jQuery(document).ready((function(e){let t=e("#epkb-config-wizard-content");if(t.length<=0){return}t.find(".epkb-setup-wizard-button-apply").on("click",(function(a){let i=[];let s={action:"epkb_apply_setup_wizard_changes",_wpnonce_epkb_ajax_action:e("#_wpnonce_epkb_ajax_action").val(),epkb_wizard_kb_id:e("#epkb_wizard_kb_id").val(),sidebar_selection:"0"};let o=e('input[name="epkb-layout"]:checked').val();if(typeof o=="undefined"){o=""}if(e(".epkb-menu-checkbox input[type=checkbox]:checked").length){e(".epkb-menu-checkbox input[type=checkbox]:checked").each((function(){i.push(e(this).prop("name").split("epkb_menu_")[1])}))}if(e(".epkb-setup-wizard-sidebar input[type=radio]:checked").length){s.sidebar_selection=e(".epkb-setup-wizard-sidebar .epkb-setup-wizard__featured-img-container--active").data("value")}let n=e("input[name=categories_articles_sidebar_location]:checked").val();if(typeof n=="undefined"){n=""}let p=e(".epkb-setup-wizard-step-container--modules .epkb-setup-wizard-module-row .epkb-setup-wizard-module-row-toggle");let l=typeof p[0]=="undefined"?"":e(p[0]).find("input:checked").val();let r=typeof p[1]=="undefined"?"":e(p[1]).find("input:checked").val();let d=typeof p[2]=="undefined"?"":e(p[2]).find("input:checked").val();let c=typeof p[3]=="undefined"?"":e(p[3]).find("input:checked").val();let u=typeof p[4]=="undefined"?"":e(p[4]).find("input:checked").val();let b=e(".epkb-setup-wizard-step-container--presets .epkb-setup-wizard-module-settings-row--active input:checked").val();if(typeof b=="undefined"){b=""}if(b.length&&!t.hasClass("epkb-config-setup-wizard-modular--first-setup")){let t=e('[name="epkb-setup-wizard-theme-content-show-option__toggle"]');let a=t.closest(".epkb-setup-wizard-theme-content-show-option").data("current-layout");if(!t.prop("checked")&&a===o){b="current"}}s.layout_name=o;s.kb_name=e(".epkb-wizard-name input").val();s.kb_slug=e(".epkb-wizard-slug input").val();s.menu_ids=i;s.categories_articles_sidebar_location=n;s.row_1_module=l;s.row_2_module=r;s.row_3_module=d;s.row_4_module=c;s.row_5_module=u;s.categories_articles_preset_name=b;s.kb_main_page_type=e('[name="epkb-main-page-type"]').length?e('[name="epkb-main-page-type"]:checked').val():"";v(s)}));t.find(".epkb-setup-wizard-button-next, .epkb-setup-wizard-button-prev").on("click",(function(i){i.preventDefault();if(e(this).hasClass("epkb-setup-wizard-button-next")){let a=e(".epkb-wc-step-header--active");if(a.hasClass("epkb-wc-step-header--layout")){let a=t.find(".epkb-setup-wizard-layout-option--active");if(a.hasClass("epkb-setup-wizard-layout-option--pro")){i.stopPropagation();e("#epkb-wizard-pro-layout-dialog").addClass("epkb-dialog-pro-feature-ad--active");return}}}let s=Number(e(this).val());a(s)}));e(document).on("click",".epkb-setup-wizard-step-tab",(function(){let t=Number(e(this).data("step"));a(t)}));function a(a){n(a);e(".epkb-wc-step-header").removeClass("epkb-wc-step-header--active");const i=e(".epkb-wc-step-header--"+a);i.addClass("epkb-wc-step-header--active");s(a);if(i.hasClass("epkb-wc-step-header--layout")){setTimeout(c,100)}if(i.hasClass("epkb-wc-step-header--design")){let a=e('.epkb-config-setup-wizard-modular input[name="epkb-layout"]:checked').val();if(typeof a=="undefined"){a=""}if(a){let e=t.find(".epkb-setup-wizard-step-container--presets");e.find(".epkb-setup-wizard-module-layout").removeClass("epkb-setup-wizard-module-layout--active");e.find(".epkb-setup-wizard-module-settings-row").removeClass("epkb-setup-wizard-module-settings-row--active");e.find(".epkb-setup-wizard-module-layout--"+a).addClass("epkb-setup-wizard-module-layout--active");e.find(".epkb-setup-wizard-module-settings-row--"+a).addClass("epkb-setup-wizard-module-settings-row--active")}const i=e(".epkb-config-setup-wizard-modular .epkb-setup-wizard-theme-content-show-option");if(i.length>0){const t=e(".epkb-config-setup-wizard-modular .epkb-wizard-content .eckb-wizard-step-design");i.show();if(e(".epkb-config-setup-wizard-modular input[name=epkb-setup-wizard-theme-content-show-option__toggle]").prop("checked")){t.addClass("epkb-wc-step-panel--active")}else{t.removeClass("epkb-wc-step-panel--active")}}setTimeout(m,100)}p()}e(document).on("change",".epkb-config-setup-wizard-modular input[name=epkb-setup-wizard-theme-content-show-option__toggle]",(function(){const t=e(".epkb-config-setup-wizard-modular .epkb-wizard-content .eckb-wizard-step-design");if(e(this).prop("checked")){t.addClass("epkb-wc-step-panel--active")}else{t.removeClass("epkb-wc-step-panel--active")}}));function i(){const t=e(".epkb-setup-wizard-sidebar input[name=article_navigation]:checked").val();const a=e(".epkb-setup-wizard-sidebar input[name=article_location]:checked").val();let i=7;if(t==="categories_articles"){i=a==="left"?1:2}else if(t==="top_categories"){i=a==="left"?3:4}else if(t==="current_category_articles"){i=a==="left"?5:6}e(".epkb-setup-wizard-sidebar .epkb-setup-wizard__featured-img-container").removeClass("epkb-setup-wizard__featured-img-container--active");e(`.epkb-setup-wizard-sidebar .epkb-setup-wizard__featured-img-container[data-value=${i}]`).addClass("epkb-setup-wizard__featured-img-container--active")}e(document).on("change",".epkb-setup-wizard-sidebar input[name=article_navigation]",i);e(document).on("change",".epkb-setup-wizard-sidebar input[name=article_location]",i);function s(t){e(".epkb-wc-step-panel").removeClass("epkb-wc-step-panel--active");e(".eckb-wizard-step-"+t).addClass("epkb-wc-step-panel--active")}function o(a){t.find(".epkb-wizard-status-bar .epkb-wsb-step").removeClass("epkb-wsb-step--completed");t.find(".epkb-wizard-status-bar .epkb-wsb-step").each((function(){let t=e(this).attr("id");let i=t[t.length-1];if(i<a){e(this).addClass("epkb-wsb-step--completed")}}))}function n(e){t.find(".epkb-setup-wizard-step-tab").removeClass("epkb-setup-wizard-step-tab--active epkb-setup-wizard-step-tab--completed");let a=t.find(".epkb-setup-wizard-step-tab--"+e);a.addClass("epkb-setup-wizard-step-tab--active");a.prevAll(".epkb-setup-wizard-step-tab").addClass("epkb-setup-wizard-step-tab--completed");t.find(".epkb-setup-wizard-step-highlight").removeClass("epkb-setup-wizard-step-highlight--active epkb-setup-wizard-step-highlight--completed");let i=t.find(".epkb-setup-wizard-step-highlight--"+e);i.addClass("epkb-setup-wizard-step-highlight--active");i.prevAll(".epkb-setup-wizard-step-highlight").addClass("epkb-setup-wizard-step-highlight--completed")}function p(){e("html, body").animate({scrollTop:0},0)}e(".epkb-setup-wizard-step__item-description__option__label").on("click",(function(){e(this).closest(".epkb-wc-step-panel").find(".epkb-setup-option-container").removeClass("epkb-setup-option-container--active");e(this).closest(".epkb-setup-wizard-step__item-content").find(".epkb-setup-option-container").addClass("epkb-setup-option-container--active")}));e(".epkb-setup-wizard-features-choice__option__label").on("click",(function(){e(this).closest(".epkb-wc-step-panel").find(".epkb-setup-wizard-features-choice").removeClass("epkb-setup-wizard-features-choice--active");e(this).closest(".epkb-setup-wizard-features-choice").addClass("epkb-setup-wizard-features-choice--active")}));e(".eckb-wizard-step-layout .epkb-setup-option__featured-img, .epkb-setup-wizard-features-choice img").on("click",(function(){let t=e(this).attr("src");let a=`\n\t\t\t<div class="epkb-config-wizard-image-popup-overlay">\n\t\t\t\t<div class="epkb-config-wizard-image-popup-container">\n\t\t\t\t\t<img src="${t}" alt="">\n\t\t\t\t\t<span class="epkb-config-wizard-image-close-popup">&times;</span>\n\t\t\t\t</div>\n\t\t\t</div>`;e("body").append(a);e(".epkb-config-wizard-image-popup-container").click((function(){e(this).toggleClass("epkb-zoomed")}));e(".epkb-config-wizard-image-close-popup").click((function(){e(".epkb-config-wizard-image-popup-overlay").remove();s()}));const i=t=>{$target=e(t.target);if(!$target.closest(".epkb-config-wizard-image-popup-container").length&&e(".epkb-config-wizard-image-popup-container").is(":visible")){e(".epkb-config-wizard-image-popup-overlay").remove();s()}};const s=()=>{document.removeEventListener("click",i)};setTimeout((function(){document.addEventListener("click",i)}),10)}));e('.epkb-wizard-slug input[type="text"]').on("input",(function(){e("#epkb-wizard-slug-target").text(e(this).val())}));(function(){let t=e(".epkb-setup-wizard-module-row--resource-link--disabled");if(t.length){e(".epkb-setup-wizard-hidden-rows-title").addClass("epkb-setup-wizard-hidden-rows-title--active");let a=t.closest(".epkb-setup-wizard-module-rows-list");a.append(t)}})();e(document).on("change",".epkb-setup-wizard-module-row-toggle input",(function(){let a=e(this).val();let i=e(this).closest(".epkb-setup-wizard-module-row");let s=i.data("row-module");let o=t.find(".epkb-setup-wizard-step-container--presets");let n=t.find(".epkb-setup-wizard-step-container--layout");let p=e(this).closest(".epkb-setup-wizard-module-rows-list");if(a==="none"){i.removeClass("epkb-setup-wizard-module-row--active");p.append(i);i.removeClass("epkb-setup-wizard-module-row--activated");i.addClass("epkb-setup-wizard-module-row--inactivated");setTimeout((()=>{i.removeClass("epkb-setup-wizard-module-row--inactivated")}),3e4)}else{i.addClass("epkb-setup-wizard-module-row--active");let e=p.find('.epkb-setup-wizard-module-row--active:not([data-row-module="'+s+'"])').last();if(e.length){i.insertAfter(e)}else{p.prepend(i)}i.removeClass("epkb-setup-wizard-module-row--inactivated");i.addClass("epkb-setup-wizard-module-row--activated");setTimeout((()=>{i.removeClass("epkb-setup-wizard-module-row--activated")}),3e4)}if(e(".epkb-setup-wizard-step-container--modules .epkb-setup-wizard-module-row").length-e(".epkb-setup-wizard-step-container--modules .epkb-setup-wizard-module-row--active").length){e(".epkb-setup-wizard-hidden-rows-title").addClass("epkb-setup-wizard-hidden-rows-title--active")}else{e(".epkb-setup-wizard-hidden-rows-title").removeClass("epkb-setup-wizard-hidden-rows-title--active")}if(s==="categories_articles"){if(a==="none"){n.addClass("epkb-setup-wizard-step-container--hide");o.addClass("epkb-setup-wizard-step-container--hide");t.find(".epkb-setup-wizard-no-categories-articles-message").addClass("epkb-setup-wizard-no-categories-articles-message--active")}else{n.removeClass("epkb-setup-wizard-step-container--hide");o.removeClass("epkb-setup-wizard-step-container--hide");t.find(".epkb-setup-wizard-no-categories-articles-message").removeClass("epkb-setup-wizard-no-categories-articles-message--active")}}}));e(document).on("click",".epkb-setup-wizard-module-row-sequence",(function(){let t=e(this).closest(".epkb-setup-wizard-module-row");if(!t.hasClass("epkb-setup-wizard-module-row--active")){return}t.addClass("epkb-setup-wizard-module-row--selected");setTimeout((()=>{t.removeClass("epkb-setup-wizard-module-row--selected")}),3e4);if(e(this).hasClass("epkb-setup-wizard-module-row-sequence--up")){let e=t.prev();if(e.length){t.slideUp(500,(function(){t.insertBefore(e);t.slideDown(500)}))}}else{let e=t.next();if(e.length&&e.hasClass("epkb-setup-wizard-module-row--active")){t.slideUp(500,(function(){t.insertAfter(e);t.slideDown(500)}))}}}));e(document).on("change",".epkb-setup-wizard-module-sidebar-selector input",(function(){let t=e(this).closest(".epkb-setup-wizard-step-container--modules");t.find(".epkb-setup-wizard-module-sidebar").removeClass("epkb-setup-wizard-module-sidebar--active");t.find(".epkb-setup-wizard-module--categories_articles").removeClass("epkb-setup-wizard-module-sidebar--active");if(e(this).val()==="left"){t.find(".epkb-setup-wizard-module-sidebar--left").addClass("epkb-setup-wizard-module-sidebar--active");t.find(".epkb-setup-wizard-module--categories_articles").addClass("epkb-setup-wizard-module-sidebar--active")}if(e(this).val()==="right"){t.find(".epkb-setup-wizard-module-sidebar--right").addClass("epkb-setup-wizard-module-sidebar--active");t.find(".epkb-setup-wizard-module--categories_articles").addClass("epkb-setup-wizard-module-sidebar--active")}}));let l={};let r=null;function d(a){let i=t.find(".epkb-setup-wizard-layout-preview");let s=i.find(".epkb-setup-wizard-layout-preview__content");let o=i.find(".epkb-setup-wizard-layout-preview__loading");const n="current";const p=n+"::"+a;r=a;o.show();if(l[p]){let e=t.find(".epkb-setup-wizard-layout-option--active").data("layout");if(e!==a){return}o.hide();s.html(l[p].html);k(l[p],"layout-"+a);return}let d={action:"epkb_get_wizard_preset_preview",_wpnonce_epkb_ajax_action:e("#_wpnonce_epkb_ajax_action").val(),epkb_wizard_kb_id:e("#epkb_wizard_kb_id").val(),layout:a,preset:n,preview_type:"layout"};e.ajax({type:"POST",dataType:"json",cache:false,url:ajaxurl,data:d}).done((function(e){let i=t.find(".epkb-setup-wizard-layout-option--active").data("layout");if(i!==a){return}o.hide();if(e.success&&e.data){l[p]={html:e.data.html,css_file_slug:e.data.css_file_slug,css_file_url:e.data.css_file_url,css_file_rtl_url:e.data.css_file_rtl_url,css:e.data.css};s.html(e.data.html);k(l[p],"layout-"+a)}else{s.html('<div class="epkb-setup-wizard-layout-preview__error">'+(e?.message??epkb_vars.unknown_error)+"</div>")}})).fail((function(e,i,n){let p=t.find(".epkb-setup-wizard-layout-option--active").data("layout");if(p!==a){return}o.hide();s.html('<div class="epkb-setup-wizard-layout-preview__error">'+(n??epkb_vars.unknown_error)+"</div>")}))}e(document).on("click",".epkb-setup-wizard-layout-option",(function(){let a=e(this);let i=t.find(".epkb-setup-wizard-layout-preview");let s=i.find(".epkb-setup-wizard-layout-preview__content");let o=i.find(".epkb-setup-wizard-layout-preview__loading");let n=a.hasClass("epkb-setup-wizard-layout-option--pro");t.find(".epkb-setup-wizard-layout-option").removeClass("epkb-setup-wizard-layout-option--active");a.addClass("epkb-setup-wizard-layout-option--active");a.find('input[name="epkb-layout"]').prop("checked",true);if(n){let e=a.data("pro-screenshot");if(e){o.hide();s.html('<img src="'+e+'" alt="Layout Preview" class="epkb-setup-wizard-layout-preview__screenshot">')}i.addClass("epkb-setup-wizard-layout-preview--pro")}else{i.removeClass("epkb-setup-wizard-layout-preview--pro");let e=a.data("layout");d(e)}}));e(document).on("click",".epkb-dialog-pro-feature-ad__cancel-btn",(function(t){t.preventDefault();t.stopPropagation();e(this).closest(".epkb-dialog-pro-feature-ad, .epkb-dialog-pro-feature-ad2").removeClass("epkb-dialog-pro-feature-ad--active")}));e(document).on("click",".epkb-setup-wizard-layout-preview--pro a",(function(e){e.preventDefault();e.stopPropagation()}));function c(){let e=t.find(".epkb-setup-wizard-step-container--layout-preview");if(e.length===0||!e.closest(".epkb-wc-step-panel").hasClass("epkb-wc-step-panel--active")){return}let a=e.find(".epkb-setup-wizard-layout-option--active");if(a.length===0){return}let i=t.find(".epkb-setup-wizard-layout-preview");let s=i.find(".epkb-setup-wizard-layout-preview__content");let o=i.find(".epkb-setup-wizard-layout-preview__loading");if(a.hasClass("epkb-setup-wizard-layout-option--pro")){let e=a.data("pro-screenshot");if(e){o.hide();s.html('<img src="'+e+'" alt="Layout Preview" class="epkb-setup-wizard-layout-preview__screenshot">')}i.addClass("epkb-setup-wizard-layout-preview--pro")}else{let e=a.data("layout");if(e){i.removeClass("epkb-setup-wizard-layout-preview--pro");d(e)}}}e(document).on("change",'.epkb-setup-wizard-step-container--layout input[name="epkb-layout"]',(function(){let a=e(this).val();let i=t.find(".epkb-setup-wizard-step-container--modules");i.find(".epkb-setup-wizard-module--categories_articles").find(".epkb-setup-wizard-module-layout").removeClass("epkb-setup-wizard-module-layout--active");i.find(".epkb-setup-wizard-module--categories_articles").find(".epkb-setup-wizard-module-layout--"+a).addClass("epkb-setup-wizard-module-layout--active");let s=t.find(".epkb-setup-wizard-step-container--presets");s.find(".epkb-setup-wizard-module-layout").removeClass("epkb-setup-wizard-module-layout--active");s.find(".epkb-setup-wizard-module-settings-row").removeClass("epkb-setup-wizard-module-settings-row--active");s.find(".epkb-setup-wizard-module-layout--"+a).addClass("epkb-setup-wizard-module-layout--active");s.find(".epkb-setup-wizard-module-settings-row--"+a).addClass("epkb-setup-wizard-module-settings-row--active");u(a);setTimeout(m,100)}));function u(a){let i=t.find(".epkb-setup-wizard-option__navigation-selector");let s=i.data("hide-none-on-layout");let o=i.data("current-value");if(typeof s!=="undefined"&&a===s){i.find('[name="article_navigation"][value="none"]').parent(".epkb-input-container").hide();if(o==="none"){e(i.find('[name="article_navigation"]')[0]).prop("checked",true).trigger("change")}else{i.find('[name="article_navigation"][value="'+o+'"]').prop("checked",true).trigger("change")}}else{i.find('[name="article_navigation"][value="none"]').parent(".epkb-input-container").show().trigger("change");i.find('[name="article_navigation"][value="'+o+'"]').prop("checked",true).trigger("change")}}u(t.find('.epkb-setup-wizard-step-container--layout input[name="epkb-layout"]:checked').val());e(document).on("change",".epkb-setup-wizard-module-preset-selector input",(function(){let a=e(this).val();let i=t.find(".epkb-setup-wizard-step-container--presets");let s=i.find(".epkb-setup-wizard-module-layout--active");let o=i.find(".epkb-setup-wizard-module-settings-row--active");s.find(".epkb-setup-wizard-module-preset").removeClass("epkb-setup-wizard-module-preset--active");s.find(".epkb-setup-wizard-module-preset--"+a).addClass("epkb-setup-wizard-module-preset--active");o.find(".epkb-setup-wizard-keep-current-button").removeClass("epkb-setup-wizard-keep-current-button--active");o.find('.epkb-setup-wizard-keep-current-button input[value="current"]').prop("checked",false)}));e(document).on("change",".epkb-setup-wizard-keep-current-button input",(function(){let e=t.find(".epkb-setup-wizard-step-container--presets");let a=e.find(".epkb-setup-wizard-module-layout--active");let i=e.find(".epkb-setup-wizard-module-settings-row--active");a.find(".epkb-setup-wizard-module-preset").removeClass("epkb-setup-wizard-module-preset--active");a.find(".epkb-setup-wizard-module-preset--current").addClass("epkb-setup-wizard-module-preset--active");i.find(".epkb-setup-wizard-keep-current-button").addClass("epkb-setup-wizard-keep-current-button--active");i.find(".epkb-setup-wizard-module-preset-selector input").prop("checked",false)}));let b={};function k(t,a){if(!t||!t.css_file_slug)return;if(e("#epkb-wizard-"+t.css_file_slug+"-css").length===0){e("head").append('<link rel="stylesheet" id="epkb-wizard-'+t.css_file_slug+'-css" href="'+t.css_file_url+'" media="all">')}if(t.css_file_rtl_url&&e("#epkb-wizard-"+t.css_file_slug+"-rtl-css").length===0){e("head").append('<link rel="stylesheet" id="epkb-wizard-'+t.css_file_slug+'-rtl-css" href="'+t.css_file_rtl_url+'" media="all">')}if(t.css&&a){let i="epkb-wizard-preview-styles-"+a;e("#"+i).remove();e("head").append('<style id="'+i+'">'+t.css+"</style>")}}function f(t){let a=t.data("layout");let i=t.data("preset");let s=t.find(".epkb-setup-wizard-module-preset__preview");let o=s.find(".epkb-setup-wizard-module-preset__preview-loading");if(t.hasClass("epkb-setup-wizard-module-preset--loaded")){return}o.show();if(b[i]){o.hide();s.html(b[i].html);k(b[i],i);t.addClass("epkb-setup-wizard-module-preset--loaded");return}let n={action:"epkb_get_wizard_preset_preview",_wpnonce_epkb_ajax_action:e("#_wpnonce_epkb_ajax_action").val(),epkb_wizard_kb_id:e("#epkb_wizard_kb_id").val(),layout:a,preset:i,preview_type:"preset"};e.ajax({type:"POST",dataType:"json",cache:false,url:ajaxurl,data:n}).done((function(e){o.hide();if(e.success&&e.data){b[i]={html:e.data.html,css_file_slug:e.data.css_file_slug,css_file_url:e.data.css_file_url,css_file_rtl_url:e.data.css_file_rtl_url,css:e.data.css};s.html(e.data.html);k(b[i],i);t.addClass("epkb-setup-wizard-module-preset--loaded")}else{s.html('<div class="epkb-setup-wizard-module-preset__preview-error">'+(e?.message??epkb_vars.unknown_error)+"</div>")}})).fail((function(e,t,a){o.hide();s.html('<div class="epkb-setup-wizard-module-preset__preview-error">'+(a??epkb_vars.unknown_error)+"</div>")}))}function m(){let t=e(".epkb-setup-wizard-step-container--presets .epkb-setup-wizard-module-layout--active");if(t.length===0){return}t.find(".epkb-setup-wizard-module-preset").each((function(){f(e(this))}))}function _(t,a){if(t==="show"){let t='<div class="epkb-admin-dialog-box-loading">'+'<div class="epkb-admin-dbl__header">'+'<div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(a?'<div class="epkb-admin-text">'+a+"</div>":"")+"</div>"+"</div>"+'<div class="epkb-admin-dialog-box-overlay"></div>';e("body").append(t)}else if(t==="remove"){e(".epkb-admin-dialog-box-loading").remove();e(".epkb-admin-dialog-box-overlay").remove()}}function w(e,t,a){return'<div class="eckb-bottom-notice-message">'+'<div class="contents">'+'<span class="'+a+'">'+(e?"<h4>"+e+"</h4>":"")+(t?t:"")+"</span>"+"</div>"+"</div>"}function v(a){let i;let s;let o=t.hasClass("epkb-config-setup-wizard-modular--first-setup")&&parseInt(e("#epkb_wizard_kb_id").val())===1?epkb_vars.creating_demo_data:epkb_vars.saving_changes;e.ajax({type:"POST",dataType:"json",data:a,url:ajaxurl,beforeSend:function(e){_("show",o)}}).done((function(t){s=t?t:"";_("remove","");if(s.error||typeof s.message==="undefined"){i=s.message?s.message:w("",epkb_vars.reload_try_again,"error");console.error("Setup Wizard Error:",s);return}if(s.redirect_to_url&&s.redirect_to_url.length>0){let t=e("#epkb-wizard-success-message");t.addClass("epkb-dialog-box-form--active");if(s.kb_main_page_url){t.find(".epkb-wizard-success-content__open-kb").attr("href",s.kb_main_page_url)}t.find(".epkb-accept-button").on("click",(function(){window.location=s.redirect_to_url}))}})).fail((function(){_("remove","");let t=window.location.href;let a=t.replace("&page=epkb-kb-configuration&setup-wizard-on","&page=epkb-dashboard&epkb_after_kb_setup");let i=e("#epkb-wizard-success-message");i.addClass("epkb-dialog-box-form--active");i.find(".epkb-wizard-success-content__open-kb").hide();i.find(".epkb-accept-button").on("click",(function(){window.location=a}))}))}(function(){t.on("click",".epkb__option-tooltip__button",(function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");let i=t.css("display")=="block";t.fadeOut();if(!i){clearTimeout(a);t.fadeIn()}}));let a;t.on("mouseenter",".epkb__option-tooltip__button, .epkb__option-tooltip__contents",(function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");clearTimeout(a);t.fadeIn()}));t.on("mouseleave",".epkb__option-tooltip__button, .epkb__option-tooltip__contents",(function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");a=setTimeout((function(){t.fadeOut()}),1e3)}));t.find("#epkb-wsb-step-2-panel .epkb-setup-wizard-module-row .epkb-setup-wizard-module-row-toggle .epkb-radio-buttons-container .epkb-input-container").each((function(t,a){const i=e(a).find("input.epkb-input").val();if(i==="none"){e(a).find("label.epkb-label").attr("data-tooltip","Hide Row")}else{e(a).find("label.epkb-label").attr("data-tooltip","Show Row")}}));t.find("#epkb-wsb-step-2-panel .epkb-setup-wizard-module-row .epkb-setup-wizard-module-row-right-settings .epkb-setup-wizard-module-row--resource-links-activate").on("click",(function(t){e("#epkb-dialog-pro-feature-ad-resource-links").addClass("epkb-dialog-pro-feature-ad--active")}));t.find(".epkb-setup-wizard-step__item .epkb-setup-wizard-step__item-description .epkb-setup-wizard-step__item-description__button-pro").on("click",(function(t){const a=e(this).data("target");e("#"+a).addClass("epkb-dialog-pro-feature-ad--active")}));t.find(".epkb-dialog-pro-feature-ad .epkb-dbf__close").on("click",(function(){e(this).closest(".epkb-dialog-pro-feature-ad").removeClass("epkb-dialog-pro-feature-ad--active")}));e(document).on("click",(function(t){let a=e(t.target);if(!a.closest(".epkb-setup-wizard-module-row--resource-links-activate").length&&!a.closest(".epkb-dialog-pro-feature-ad").length&&!a.closest(".epkb-setup-wizard-step__item-description__button-pro").length){e(".epkb-dialog-pro-feature-ad").removeClass("epkb-dialog-pro-feature-ad--active")}}));t.find(".eckb-wizard-step-2 .epkb-setup-option__featured-img-container").on("click",(function(a){a.preventDefault();a.stopPropagation();t.find(".image_zoom").remove();var i;var s=e(this).find("img");if(s.length>1){i=e(s[0]).is(":visible")?e(s[0]).attr("src"):e(s[1]).is(":visible")?e(s[1]).attr("src"):e(s[2]).attr("src")}else{i=e(this).find("img").attr("src")}e(this).after(""+'<div id="epkb_image_zoom" class="epkb-setup-wizard-image_zoom">'+'<div class="epkb-setup-wizard-image_zoom__content">'+'<img src="'+i+'" class="epkb-setup-wizard-image_zoom__image">'+'<span class="epkb-setup-wizard-image_zoom__close epkbfa epkbfa-close"></span>'+"</div>"+"</div>"+"");let o=e(document).scrollTop();e("html, body").css({overflow:"hidden"});e("html, body").on("click",(function(){e("#epkb_image_zoom").remove();e(this).css({overflow:"initial"}).off("click").animate({scrollTop:o},0)}))}))})();e(document).on("click",".epkb-close-notice",(function(){e(this).parent().addClass("fadeOutDown")}));e(document).on("click",".epkb-notice-dismiss",(function(t){t.preventDefault();e("#"+e(this).data("notice-id")).slideUp();var a={action:"epkb_dismiss_ongoing_notice",epkb_dismiss_id:e(this).data("notice-id")};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:a})}));e(document).on("click","#epkb-ml-classic-layout .epkb-ml-articles-show-more",(function(){e(this).parent().parent().toggleClass("epkb-category-section--active");e(this).parent().parent().find(".epkb-category-section__body").slideToggle();e(this).find(".epkb-ml-articles-show-more__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus");const t=e(this).find(".epkb-ml-articles-show-more__show-more__icon").hasClass("epkbfa-minus");if(t){e(this).parent().find(".epkb-ml-article-count").hide()}else{e(this).parent().find(".epkb-ml-article-count").show()}}));e(document).on("click","#epkb-ml-classic-layout .epkb-ml-2-lvl-category-container",(function(t){if(e(this).hasClass("epkb-ml-2-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-2-lvl-category__show-more__icon"))return;e(this).find(".epkb-ml-2-lvl-article-list").slideToggle();e(this).find(".epkb-ml-3-lvl-categories").slideToggle();e(this).find(".epkb-ml-2-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus");e(this).toggleClass("epkb-ml-2-lvl-category--active")}));e(document).on("click","#epkb-ml-classic-layout .epkb-ml-3-lvl-category-container",(function(t){if(e(this).hasClass("epkb-ml-3-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-3-lvl-category__show-more__icon"))return;e(this).find(".epkb-ml-3-lvl-article-list").slideToggle();e(this).find(".epkb-ml-4-lvl-categories").slideToggle();e(this).find(".epkb-ml-3-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus");e(this).toggleClass("epkb-ml-3-lvl-category--active")}));e(document).on("click","#epkb-ml-tabs-layout .epkb-ml-articles-show-more",(function(t){t.preventDefault();e(this).hide();e(this).parent().find(".epkb-list-column li").removeClass("epkb-ml-article-hide")}));e(document).on("click","#epkb-content-container .epkb-nav-tabs li",(function(){let t=e(this).closest("#epkb-content-container");t.find(".epkb-nav-tabs li").removeClass("active");e(this).addClass("active");t.find(".epkb-tab-panel").removeClass("active");t.find(".epkb-panel-container ."+e(this).attr("id")).addClass("active")}));function h(t,a){const i=t.find(".epkb-ml-all-categories-content-container");const s=t.find(".epkb-ml-top-categories-button-container");i.hide();let o=a.offset().top;let n=false;t.find(".epkb-ml-top__cat-container").each((function(){let t=e(this).offset().top;if(t-o>0&&!n){i.insertAfter(e(this).prevAll(".epkb-ml-top__cat-container").first());n=true;return false}}));if(!n){i.insertAfter(s)}}e(document).on("click",".epkb-ml-top__cat-container",(function(){const t=e(this).closest("#epkb-ml-drill-down-layout");const a="epkb-ml__cat-content--show";const i="epkb-ml-top__cat-container--active";const s="epkb-ml__cat-container--active";const o="epkb-ml-categories-button-container--active";const n="epkb-ml-categories-button-container--show";const p="epkb-back-button--active";const l=t.find(".epkb-ml-all-categories-content-container");t.find(".epkb-ml-top__cat-container").removeClass(i);if(e(this).hasClass(i)){e(this).removeClass(i);l.hide();return}l.find(".epkb-back-button").removeClass(p);e(this).addClass(i);t.find(".epkb-ml-categories-button-container").removeClass(o+" "+n);t.find(".epkb-ml__cat-content").removeClass(a);t.find(".epkb-ml__cat-container").removeClass(s);h(t,e(this));l.show();const r=e(this).data("cat-id");t.find('.epkb-ml-1-lvl__cat-content[data-cat-id="'+r+'"]').addClass(a);t.find('.epkb-ml-2-lvl-categories-button-container[data-cat-level="1"][data-cat-id="'+r+'"]').addClass(n)}));e(document).on("click",".epkb-ml__cat-container",(function(){const t=e(this).closest("#epkb-ml-drill-down-layout");const a="epkb-ml__cat-content--show";const i="epkb-ml__cat-container--active";const s="epkb-ml-categories-button-container--active";const o="epkb-ml-categories-button-container--show";const n="epkb-back-button--active";if(e(this).hasClass(i)){return}t.find(".epkb-ml-all-categories-content-container .epkb-back-button").addClass(n);const p=parseInt(e(this).data("cat-level"));const l=e(this).data("cat-id");const r=p-1;const d=e(this).data("parent-cat-id");const c=p+1;e(this).addClass(i);t.find(".epkb-ml-"+p+'-lvl-categories-button-container[data-cat-id="'+d+'"]').addClass(s+" "+o);t.find(".epkb-ml-"+r+"-lvl-categories-button-container").removeClass(s+" "+o);t.find(".epkb-ml-"+r+"-lvl__cat-container").removeClass(i);t.find(".epkb-ml-"+r+"-lvl__cat-content").removeClass(a);t.find(".epkb-ml-"+p+'-lvl__cat-content[data-cat-id="'+l+'"]').addClass(a);t.find(".epkb-ml-"+c+'-lvl-categories-button-container[data-cat-id="'+l+'"]').addClass(o)}));e(document).on("click",".epkb-back-button",(function(){const t=e(this).closest("#epkb-ml-drill-down-layout");const a="epkb-ml__cat-content--show";const i="epkb-ml-top__cat-container--active";const s="epkb-ml__cat-container--active";const o="epkb-ml-categories-button-container--active";const n="epkb-ml-categories-button-container--show";const p="epkb-back-button--active";let l=t.find(".epkb-ml__cat-content."+a);let r=parseInt(l.data("cat-level"));let d=r+1;if(r===1){t.find(".epkb-ml-top__cat-container").removeClass(i);t.find(".epkb-ml-all-categories-content-container").hide();return}let c=l.data("parent-cat-id");let u=r-1;if(u===1){t.find(".epkb-ml-all-categories-content-container .epkb-back-button").removeClass(p)}t.find(".epkb-ml-"+r+"-lvl-categories-button-container").removeClass(o);t.find(".epkb-ml-"+r+"-lvl__cat-container").removeClass(s);t.find(".epkb-ml-"+r+"-lvl__cat-content").removeClass(a);t.find(".epkb-ml-"+d+"-lvl-categories-button-container").removeClass(o+" "+n);let b=t.find(".epkb-ml-"+u+'-lvl__cat-container[data-cat-id="'+c+'"]');b.closest(".epkb-ml-categories-button-container").addClass(o+" "+n);b.addClass(s);t.find(".epkb-ml-"+u+'-lvl__cat-content[data-cat-id="'+c+'"]').addClass(a)}));e(document).on("click",".epkb-section-body .epkb-category-level-2-3:not(.epkb-category-focused)",(function(t){t.preventDefault();e(this).parent().children("ul").toggleClass("active");let a=e(this).attr("aria-expanded");e(this).attr("aria-expanded",a==="true"?"false":"true");let i=e(this).find(".epkb-category-level-2-3__cat-icon");let s=[["ep_font_icon_plus","ep_font_icon_minus"],["ep_font_icon_plus_box","ep_font_icon_minus_box"],["ep_font_icon_right_arrow","ep_font_icon_down_arrow"],["ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_down"],["ep_font_icon_arrow_carrot_right_circle","ep_font_icon_arrow_carrot_down_circle"],["ep_font_icon_folder_add","ep_font_icon_folder_open"]];s.forEach((function(e){if(i.hasClass(e[0])){i.removeClass(e[0]).addClass(e[1])}else if(i.hasClass(e[1])){i.removeClass(e[1]).addClass(e[0])}}))}));e(document).on("click",".epkb-section-body .epkb-category-level-2-3.epkb-category-focused",(function(e){e.preventDefault();e.stopPropagation()}))}));