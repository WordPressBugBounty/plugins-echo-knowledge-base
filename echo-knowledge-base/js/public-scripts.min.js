jQuery(document).ready((function(e){function t(t){e(".epkb-panel-container ."+t).addClass("active")}function a(e,t){let a=window.location.href;a=function(e,t,a){let i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+a+"$2"):e+n+t+"="+a}(a,"top-category",t),window.history.pushState({tab:e},"title",a)}e("body").on("submit","#epkb_search_form",(function(t){if(t.preventDefault(),""===e("#epkb_search_terms").val())return;let a={action:"epkb-search-kb",epkb_kb_id:e("#epkb_kb_id").val(),search_words:e("#epkb_search_terms").val(),is_kb_main_page:e(".eckb_search_on_main_page").length},i="";e.ajax({type:"GET",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(t){e(".loading-spinner").css("display","block"),e("#epkb-ajax-in-progress").show()}}).done((function(t){t=t||"",e(".loading-spinner").css("display","none"),i=t.error||"success"!==t.status?epkb_vars.msg_try_again:t.search_result})).fail((function(e,t,a){i=epkb_vars.msg_try_again+". ["+(a||epkb_vars.unknown_error)+"]"})).always((function(){e("#epkb-ajax-in-progress").hide(),i&&(e("#epkb_search_results").css("display","block"),e("#epkb_search_results").html(i))}))})),e(document).on("keyup","#epkb_search_terms",(function(){this.value||e("#epkb_search_results").css("display","none")})),e("body").on("submit","#epkb-ml-search-form",(function(t){if(t.preventDefault(),e(this).closest(".eckb-block-editor-preview").length)return;if(""===e(".epkb-ml-search-box__input").val())return;const a=e(this).data("kb-block-post-id");let i={action:"epkb-search-kb",epkb_kb_id:e("#epkb_kb_id").val(),search_words:e(".epkb-ml-search-box__input").val(),is_kb_main_page:e(".eckb_search_on_main_page").length||(a?1:0),kb_block_post_id:a||0},n="";e.ajax({type:"GET",dataType:"json",data:i,url:epkb_vars.ajaxurl,beforeSend:function(t){e(".epkbfa-ml-loading-icon").css("visibility","visible"),e(".epkbfa-ml-search-icon").css("visibility","hidden"),e(".epkb-ml-search-box__text").css("visibility","hidden"),e("#epkb-ajax-in-progress").show()}}).done((function(t){t=t||"",e(".epkbfa-ml-loading-icon").css("visibility","hidden"),e(".epkbfa-ml-search-icon").css("visibility","visible"),e(".epkb-ml-search-box__text").css("visibility","visible"),n=t.error||"success"!==t.status?epkb_vars.msg_try_again:t.search_result})).fail((function(e,t,a){n=epkb_vars.msg_try_again+". ["+(a||epkb_vars.unknown_error)+"]"})).always((function(){e("#epkb-ajax-in-progress").hide(),n&&e("#epkb-ml-search-results").css("display","block").html(n)}))})),e(document).on("click",(function(t){let a=e("#epkb-ml-search-results"),i=e("#epkb-ml-search-box"),n=a.has(t.target).length>0,l=i.has(t.target).length>0;n||l||a.hide()})),e(document).on("keyup",".epkb-ml-search-box__input",(function(){this.value||e("#epkb-ml-search-results").css("display","none")})),e(window).on("resize",(function(){let t=e(".epkb-nav-tabs li"),a=e("#epkb-content-container");if(a.length&&t.length){let i=0;a.find(t).each((function(){let t=e(this).outerHeight(!0);t>i&&(i=t)})),a.find(t).css("min-height",i)}})),window.onpopstate=function(t){let a=e("#epkb-content-container");t.state&&-1!==t.state.tab.indexOf("epkb_tab_")?(a.find(".epkb_top_panel").removeClass("active"),e("#main-category-selection").length>0?e("#main-category-selection").val(a.find("#"+t.state.tab).val()):(a.find(".epkb_top_categories").removeClass("active"),a.find("#"+t.state.tab).addClass("active")),a.find("."+t.state.tab).addClass("active")):e("#epkb_tab_1").length>0&&!a.find("#epkb_tab_1").hasClass("active")&&(a.find(".epkb_top_panel").removeClass("active"),e("#main-category-selection").length>0?e("#main-category-selection").val(a.find("#epkb_tab_1").val()):(a.find(".epkb_top_categories").removeClass("active"),a.find("#epkb_tab_1").addClass("active")),a.find(".epkb_tab_1").addClass("active"))},e(document).on("click","#epkb-content-container .epkb-nav-tabs li",(function(){let i=e("#epkb-content-container");i.find(".epkb-nav-tabs li").removeClass("active"),e(this).addClass("active"),i.find(".epkb-tab-panel").removeClass("active"),t(e(this).attr("id")),a(e(this).attr("id"),e(this).data("cat-name"))})),e(document).on("change","#main-category-selection",(function(){e("#epkb-content-container").find(".epkb-tab-panel").removeClass("active"),e("#main-category-selection option:selected").each((function(){t(e(this).attr("id")),e(this).closest(".eckb-block-editor-preview").length||a(e(this).attr("id"),e(this).data("cat-name"))}))})),e(document).on("click","#epkb-ml-tabs-layout .epkb-ml-articles-show-more",(function(t){t.preventDefault(),e(this).hide(),e(this).parent().find(".epkb-list-column li").removeClass("epkb-ml-article-hide")})),e(document).on("click",".epkb-section-body .epkb-category-level-2-3",(function(){e(this).parent().children("ul").toggleClass("active");let t=e(this).parent().children("ul").data("list-id");switch(e(this).attr("aria-expanded")){case"true":e(this).attr("aria-expanded","false"),e(this).parent().find('.epkb-show-all-articles[data-btn-id="'+t+'"]').removeClass("epkb-show-all-btn--active");break;case"false":e(this).attr("aria-expanded","true"),e(this).parent().find('.epkb-show-all-articles[data-btn-id="'+t+'"]').addClass("epkb-show-all-btn--active")}})),e(document).on("click","#epkb-content-container .epkb-section-body .epkb-category-level-2-3:not(.epkb-category-focused)",(function(){let t=e(this).find(".epkb-category-level-2-3__cat-icon");function a(e){t.hasClass(e[0])?(t.removeClass(e[0]),t.addClass(e[1])):t.hasClass(e[1])&&(t.removeClass(e[1]),t.addClass(e[0]))}a(["ep_font_icon_plus","ep_font_icon_minus"]),a(["ep_font_icon_plus_box","ep_font_icon_minus_box"]),a(["ep_font_icon_right_arrow","ep_font_icon_down_arrow"]),a(["ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_down"]),a(["ep_font_icon_arrow_carrot_right_circle","ep_font_icon_arrow_carrot_down_circle"]),a(["ep_font_icon_folder_add","ep_font_icon_folder_open"])})),e(document).on("click","#epkb-modular-main-page-container .epkb-show-all-articles, .epkb-block-main-page-container .epkb-show-all-articles, #epkb-main-page-container .epkb-show-all-articles",(function(){e(this).toggleClass("epkb-show-articles");let t=e(this).data("btn-id"),a=e('[data-list-id="'+t+'"]').find("li");e(this).hasClass("epkb-show-articles")?(e(this).find(".epkb-show-text").addClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").removeClass("epkb-hide-elem"),e(this).attr("aria-expanded","true")):(e(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").addClass("epkb-hide-elem"),e(this).attr("aria-expanded","false")),e(a).each((function(){e(this).hasClass("epkb-hide-elem")?(e(this).removeClass("epkb-hide-elem"),e(this).addClass("visible")):e(this).hasClass("visible")&&(e(this).removeClass("visible"),e(this).addClass("epkb-hide-elem"))}))}));let i=e("#epkb-search-kb").text();e("#epkb-search-kb").text(i),e("body").on("click",".eckb-print-button-container, .eckb-print-button-meta-container",(function(t){e("body").hasClass("epkb-editor-preview")||(e("#eckb-article-content").parents().each((function(){e(this).siblings().addClass("eckb-print-hidden")})),window.print())}));let n={firstLevel:1,lastLevel:6,searchStr:"",currentId:"",offset:50,excludeClass:!1,init:function(){this.getOptions();let t=this.getArticleHeaders(),a=e(".eckb-article-toc");if(t.length>0)a.html(this.getToCHTML(t)),e("#eckb-article-content .eckb-article-toc").length>0&&e("#eckb-article-content .eckb-article-toc").html(this.getToCHTML(t,"h2"));else if(a.hide(),e("body").hasClass("epkb-editor-preview")){a.show();let e=`\n\t\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t\t<h4 class="eckb-article-toc__title">${a.find(".eckb-article-toc__title").html()}</h4>\n\t\t\t\t\t\t\t<nav class="eckb-article-toc-outline" role="navigation" aria-label="${epkb_vars.toc_aria_label}">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>${epkb_vars.toc_editor_msg}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t`;a.html(e)}let i=this;if(e(".eckb-article-toc__level a").on("click",(function(t){if(e(".epkb-editor-preview").length)return void t.preventDefault();let a=e(this).data("target");if(!a||0===e("[data-id="+a+"]").length)return!1;let n=e("[data-id="+a+"]").offset().top-i.offset,l=parseInt(e(this).closest(".eckb-article-toc").data("speed"));return e("body, html").animate({scrollTop:n},l),!1})),e(window).on("scroll",this.scrollSpy),this.scrollSpy(),!location.hash)return;let n=e("[data-target="+location.hash.slice(1)+"]");n.length&&n.trigger("click")},getOptions:function(){let t=e(".eckb-article-toc");for(t.data("min")&&(this.firstLevel=t.data("min")),t.data("max")&&(this.lastLevel=t.data("max")),t.data("offset")?this.offset=t.data("offset"):t.data("offset",this.offset),void 0!==t.data("exclude_class")&&(this.excludeClass=t.data("exclude_class"));this.firstLevel<=this.lastLevel;)this.searchStr+="h"+this.firstLevel+(this.firstLevel<this.lastLevel?",":""),this.firstLevel++},getArticleHeaders:function(){let t=[],a=this;if(e("#eckb-article-content-body").find(a.searchStr).each((function(){if(0===e(this).text().length)return;if(a.excludeClass&&e(this).hasClass(a.excludeClass))return;let i,n={};e(this).data("id")?i=e(this).data("id"):(i="articleTOC_"+t.length,e(this).attr("data-id",i)),n.id=i,n.title=e(this).text(),"H1"===e(this).prop("tagName")?n.level=1:"H2"===e(this).prop("tagName")?n.level=2:"H3"===e(this).prop("tagName")?n.level=3:"H4"===e(this).prop("tagName")?n.level=4:"H5"===e(this).prop("tagName")?n.level=5:"H6"===e(this).prop("tagName")&&(n.level=6),t.push(n)})),0===t.length)return t;let i=1,n=6;t.forEach((function(e){e.level>i&&(i=e.level),e.level<n&&(n=e.level)})),n>1&&t.forEach((function(e,a){t[a].level=e.level-n+1}));let l=1;for(;l<i;){let e=!1;t.forEach((function(t){t.level==l&&(e=!0)})),e?l++:t.forEach((function(e,a){e.level>l&&(t[a].level=e.level-1)})),l++}return t},getToCHTML:function(t,a="h4"){let i,n=e(".eckb-article-toc");if(n.find(".eckb-article-toc__title").length){let e=n.find(".eckb-article-toc__title").html();i=`\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<${a} class="eckb-article-toc__title">${e}</${a}>\n\t\t\t\t\t\t<nav class="eckb-article-toc-outline" role="navigation" aria-label="${epkb_vars.toc_aria_label}">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t`}else i='\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t';return t.forEach((function(e){let t=new URL(location.href);t.hash=e.id,t=t.toString(),i+=`<li class="eckb-article-toc__level eckb-article-toc__level-${e.level}"><a href="${t}" data-target="${e.id}">${e.title}</a></li>`})),i+="\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</div>\n\t\t\t\t",i},scrollSpy:function(){let t=e(".eckb-article-toc"),a=e(window).scrollTop(),i=e(window).scrollTop()+e(window).height(),n=!1,l=!1,s=t.data("offset");if(i==e(document).height()?(n=!0,l=e(".eckb-article-toc__level a").last(),e(".eckb-article-toc__level a").removeClass("active"),l.addClass("active")):e(".eckb-article-toc__level a").each((function(t){if(e(this).removeClass("active"),n)return!0;let o=e(this).data("target");if(!o||0===e("[data-id="+o+"]").length)return!0;let c=e("[data-id="+o+"]"),r=c.offset().top,_=c.offset().top+c.height();if(t+1===e(".eckb-article-toc__level a").length)_=c.parent().offset().top+c.parent().height();else{let a=e(".eckb-article-toc__level a").eq(t+1).data("target");a&&e("[data-id="+a+"]").length&&(_=e("[data-id="+a+"]").offset().top)}r-=s,_-=s+1;let b=!1;(r<i&&r>a||_<i&&_>a||r<a&&_>i)&&(b=!0),b&&(e(this).addClass("active"),n=!0,l=e(this))})),!l||0===l.length||!n)return;let o=l.position().top;(o<0||o>l.closest(".eckb-article-toc__inner").height())&&l.closest(".eckb-article-toc__inner").scrollTop(o-l.closest(".eckb-article-toc__inner").find(".eckb-article-toc__title").position().top)}};function l(){let t=e(".eckb-article-toc");t.length&&n.init();let a=e("#eckb-article-content-body").position(),i=e(window).width(),l=void 0===e("#eckb-article-page-container-v2").data("mobile_breakpoint")?768:e("#eckb-article-page-container-v2").data("mobile_breakpoint");e(".eckb-article-page--L-sidebar-to-content").length>0&&i>l&&e("#eckb-article-page-container-v2").find("#eckb-article-left-sidebar ").css("margin-top",a.top+"px"),e(".eckb-article-page--R-sidebar-to-content").length>0&&i>l&&e("#eckb-article-page-container-v2").find("#eckb-article-right-sidebar ").css("margin-top",a.top+"px"),t.length&&function(){let t=e(window).width(),a=void 0===e("#eckb-article-page-container-v2").data("mobile_breakpoint")?111:e("#eckb-article-page-container-v2").data("mobile_breakpoint");if(t>a)return;if(e("#eckb-article-content-header-v2 .eckb-article-toc").length)return;if(e("#eckb-article-left-sidebar .eckb-article-toc").length)return void e("#eckb-article-content-header-v2").append(e("#eckb-article-left-sidebar .eckb-article-toc"));e("#eckb-article-right-sidebar .eckb-article-toc").length&&e("#eckb-article-content-header-v2").append(e("#eckb-article-right-sidebar .eckb-article-toc"))}()}function s(e,t,a){if("show"===e){let e='<div class="epkb-admin-dialog-box-loading"><div class="epkb-admin-dbl__header"><div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(t?'<div class="epkb-admin-text">'+t+"</div>":"")+'</div></div><div class="epkb-admin-dialog-box-overlay"></div>';a.append(e)}else"remove"===e&&(a.find(".epkb-admin-dialog-box-loading").remove(),a.find(".epkb-admin-dialog-box-overlay").remove())}function o(){if(0===e("#elay-sidebar-container-v2").length&&e("#epkb-sidebar-container-v2").length>0){function t(e,t){let a=["ep_font_icon_plus","ep_font_icon_plus_box","ep_font_icon_right_arrow","ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_right_circle","ep_font_icon_folder_add"],i=["ep_font_icon_minus","ep_font_icon_minus_box","ep_font_icon_down_arrow","ep_font_icon_arrow_carrot_down","ep_font_icon_arrow_carrot_down_circle","ep_font_icon_folder_open"],n=a.indexOf(t),l=i.indexOf(t);n>=0?(e.removeClass(a[n]),e.addClass(i[n])):l>=0&&(e.removeClass(i[l]),e.addClass(a[l]))}let a=e("#epkb-sidebar-container-v2");a.off("click.epkbTopCat").on("click.epkbTopCat",".epkb-top-class-collapse-on, .epkb-sidebar__cat__top-cat__heading-container",(function(a){if(e(a.target).closest(".epkb-editor-zone__tab--active, .epkb-editor-zone__tab--parent").length)return;const i=e(this),n=i.parent(),l=n.children(".epkb-sidebar__cat__top-cat__body-container");n.toggleClass("epkb-active-top-category"),l.stop(!0,!0).slideToggle();const s=i.find('span[class*="ep_font_icon_"]');if(s.length){const e=(s.attr("class").match(/ep_font_icon_\S+/)||[""])[0];t(s,e)}a.preventDefault()})),a.off("click.epkbToggleCat").on("click.epkbToggleCat",".epkb-category-level-2-3",(function(a){e(this).nextUntil(":not(ul)","ul").stop(!0,!0).slideToggle();const i=e(this).children(".epkb_sidebar_expand_category_icon");if(i.length){const e=(i.attr("class").match(/ep_font_icon_\S+/)||[""])[0];t(i,e)}a.preventDefault()})),a.on("click",".epkb-show-all-articles",(function(){e(this).toggleClass("active");let t=e(this).parent("ul").find("li");e(this).hasClass("active")?(e(this).find(".epkb-show-text").addClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").removeClass("epkb-hide-elem"),e(this).attr("aria-expanded","true")):(e(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").addClass("epkb-hide-elem"),e(this).attr("aria-expanded","false")),e(t).each((function(){e(this).hasClass("epkb-hide-elem")?(e(this).removeClass("epkb-hide-elem"),e(this).addClass("visible")):e(this).hasClass("visible")&&(e(this).removeClass("visible"),e(this).addClass("epkb-hide-elem"))}))})),function(){let a=e("#eckb-article-content");if(void 0===a.data("article-id"))return;let i=a.data("article-id");if(void 0!==a.data("kb_article_seq_no")&&a.data("kb_article_seq_no")>0){let t=i+"_"+a.data("kb_article_seq_no");i=e("#sidebar_link_"+t).length>0?t:i}e(".epkb-sidebar__cat__top-cat li").removeClass("active"),e(".epkb-category-level-1").removeClass("active"),e(".epkb-category-level-2-3").removeClass("active"),e(".epkb-sidebar__cat__top-cat__heading-container").removeClass("active");let n=e("#sidebar_link_"+i);n.addClass("active"),n.parents(".epkb-sub-sub-category, .epkb-articles").each((function(){let a=e(this).parent().children(".epkb-category-level-2-3");if(!a.length)return!0;if(!a.hasClass("epkb-category-level-2-3"))return!0;a.next().show(),a.next().next().show();let i=a.find(".epkb_sidebar_expand_category_icon");i.length>0&&t(i,i.attr("class").match(/\ep_font_icon_\S+/g)[0])})),n.closest(".epkb-sidebar__cat__top-cat").parent().toggleClass("epkb-active-top-category"),n.closest(".epkb-sidebar__cat__top-cat").find(e(".epkb-sidebar__cat__top-cat__body-container")).show();let l=n.closest(".epkb-sidebar__cat__top-cat").find(".epkb-sidebar__cat__top-cat__heading-container .epkb-sidebar__heading__inner span");l.length>0&&t(l,l.attr("class").match(/\ep_font_icon_\S+/g)[0])}(),function(){let a=e(".epkb-sidebar__cat__current-cat");if(!a.length)return;let i=a.closest("li");for(let e=0;e<5;e++)i.length&&(i.hasClass("epkb-sidebar__cat__top-cat")&&(i.find(".epkb-sidebar__cat__top-cat__body-container").css("display","block"),i.closest(".epkb-sidebar__cat__top-cat__body-container").css("display","block")),i.children("ul").show(),i=i.closest("li").closest("ul").parent());let n,l=a.closest("li");for(let e=0;e<5;e++){if(n=l.find("span").first(),l=n.closest("ul").closest("ul").closest("li"),n.length){let e=n.attr("class").match(/\ep_font_icon_\S+/g);e&&t(n,e[0])}l.find("div[class^=elay-category]").first().addClass("active"),0===e&&(l.find(".epkb-sidebar__cat__top-cat__body-container").css("display","block"),l.closest(".epkb-sidebar__cat__top-cat__body-container").css("display","block"))}}()}}function c(t){const a=e(".epkb-ml-all-categories-content-container");a.hide();let i=t.offset().top,n=!1;e(".epkb-ml-top__cat-container").each((function(){if(e(this).offset().top-i>0)return a.insertAfter(e(this).prev(".epkb-ml-top__cat-container")),n=!0,!1;e(this).next(".epkb-ml-top__cat-container").length||a.insertAfter(e(this))})),a.show()}function r(){if(0===e("#eckb-article-content").length)return;let t=e("#eckb-article-content").data("article-id");null!=typeof t&&""!=t&&null!=typeof epkb_vars.article_views_counter_method&&""!=epkb_vars.article_views_counter_method&&("delay"===epkb_vars.article_views_counter_method&&setTimeout((function(){_(t)}),5e3),"scroll"===epkb_vars.article_views_counter_method&&e(window).one("scroll",(function(){_(t)})))}function _(t){if(void 0!==epkb_vars.article_view_sent)return;let a={action:"epkb_count_article_view",article_id:t,_wpnonce_epkb_ajax_action:epkb_vars.nonce};e.ajax({type:"POST",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(e){epkb_vars.article_view_sent=!0}})}setTimeout(l,500),e(document).on("click","#eckb-kb-create-demo-data",(function(t){if(t.preventDefault(),e(this).closest(".epkb-editor-preview, .eckb-block-editor-preview").length)return;let a={action:"epkb_create_kb_demo_data",epkb_kb_id:e(this).data("id"),_wpnonce_epkb_ajax_action:epkb_vars.nonce},i=e(this).closest(".eckb-kb-no-content"),n=e(".eckb-kb-no-content").find("#epkb-created-kb-content"),l=epkb_vars.creating_demo_data?epkb_vars.creating_demo_data:"";e.ajax({type:"POST",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(e){s("show",l,i)}}).done((function(e){void 0!==(e=e||"").message&&n.addClass("epkb-dialog-box-form--active")})).fail((function(e,t,a){n.addClass("epkb-dialog-box-form--active").find(".epkb-dbf__body").html(a)})).always((function(){s("remove","",i)}))})),e(document).on("click",".eckb-kb-no-content #epkb-created-kb-content .epkb-dbf__footer__accept__btn",(function(){location.reload()})),o(),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-articles-show-more",(function(){e(this).parent().parent().toggleClass("epkb-category-section--active"),e(this).parent().parent().find(".epkb-category-section__body").slideToggle(),e(this).find(".epkb-ml-articles-show-more__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus");e(this).find(".epkb-ml-articles-show-more__show-more__icon").hasClass("epkbfa-minus")?e(this).parent().find(".epkb-ml-article-count").hide():e(this).parent().find(".epkb-ml-article-count").show()})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-2-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-2-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-2-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-2-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-3-lvl-categories").slideToggle(),e(this).find(".epkb-ml-2-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-2-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-3-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-3-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-3-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-3-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-4-lvl-categories").slideToggle(),e(this).find(".epkb-ml-3-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-3-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-4-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-4-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-4-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-4-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-5-lvl-categories").slideToggle(),e(this).find(".epkb-ml-4-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-4-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-5-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-5-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-5-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-5-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-5-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-5-lvl-category--active"))})),e(document).on("click",".epkb-ml-top__cat-container",(function(){const t="epkb-ml__cat-content--show",a="epkb-ml-top__cat-container--active",i="epkb-ml-categories-button-container--show",n=e(".epkb-ml-all-categories-content-container");if(e(".epkb-ml-top__cat-container").removeClass(a),e(this).hasClass(a))return e(this).removeClass(a),void n.hide();n.find(".epkb-back-button").removeClass("epkb-back-button--active");let l=e(this);e(this).removeClass(a),l.addClass(a),c(l),e(".epkb-ml-categories-button-container").removeClass("epkb-ml-categories-button-container--active "+i),e(".epkb-ml__cat-content").removeClass(t),e(".epkb-ml__cat-container").removeClass("epkb-ml__cat-container--active"),n.show();const s=e(this).data("cat-id");e('.epkb-ml-1-lvl__cat-content[data-cat-id="'+s+'"]').addClass(t),e('.epkb-ml-2-lvl-categories-button-container[data-cat-level="1"][data-cat-id="'+s+'"]').addClass(i)})),e(window).on("resize",(function(){l(),o(),r();let t=setTimeout((function(){t&&clearTimeout(t);let a=e(".epkb-ml-top__cat-container--active");a.length&&c(a)}),1e3)})),e(document).on("click",".epkb-ml__cat-container",(function(){const t="epkb-ml__cat-content--show",a="epkb-ml__cat-container--active",i="epkb-ml-categories-button-container--active",n="epkb-ml-categories-button-container--show";if(e(this).hasClass(a))return;e(".epkb-ml-all-categories-content-container .epkb-back-button").addClass("epkb-back-button--active");const l=parseInt(e(this).data("cat-level")),s=e(this).data("cat-id"),o=l-1,c=e(this).data("parent-cat-id"),r=l+1;e(this).addClass(a),e(".epkb-ml-"+l+'-lvl-categories-button-container[data-cat-id="'+c+'"]').addClass(i+" "+n),e(".epkb-ml-"+o+"-lvl-categories-button-container").removeClass(i+" "+n),e(".epkb-ml-"+o+"-lvl__cat-container").removeClass(a),e(".epkb-ml-"+o+"-lvl__cat-content").removeClass(t),e(".epkb-ml-"+l+'-lvl__cat-content[data-cat-id="'+s+'"]').addClass(t),e(".epkb-ml-"+r+'-lvl-categories-button-container[data-cat-id="'+s+'"]').addClass(n)})),e(document).on("click",".epkb-back-button",(function(){const t="epkb-ml__cat-content--show",a="epkb-ml__cat-container--active",i="epkb-ml-categories-button-container--active",n="epkb-ml-categories-button-container--show";let l=e(".epkb-ml__cat-content."+t),s=parseInt(l.data("cat-level")),o=s+1;if(1===s)return e(".epkb-ml-top__cat-container").removeClass("epkb-ml-top__cat-container--active"),void e(".epkb-ml-all-categories-content-container").hide();let c=l.data("parent-cat-id"),r=s-1;1===r&&e(".epkb-ml-all-categories-content-container .epkb-back-button").removeClass("epkb-back-button--active"),e(".epkb-ml-"+s+"-lvl-categories-button-container").removeClass(i),e(".epkb-ml-"+s+"-lvl__cat-container").removeClass(a),e(".epkb-ml-"+s+"-lvl__cat-content").removeClass(t),e(".epkb-ml-"+o+"-lvl-categories-button-container").removeClass(i+" "+n);let _=e(".epkb-ml-"+r+'-lvl__cat-container[data-cat-id="'+c+'"]');_.closest(".epkb-ml-categories-button-container").addClass(i+" "+n),_.addClass(a),e(".epkb-ml-"+r+'-lvl__cat-content[data-cat-id="'+c+'"]').addClass(t)})),e(document).on("click",'.epkb-faqs-accordion-mode .epkb-faqs__item__question[data-faq-type="module"]',(function(){let t=e(this).closest(".epkb-faqs__item-container").eq(0);t.hasClass("epkb-faqs__item-container--active")?t.find(".epkb-faqs__item__answer").stop().slideUp(400):t.find(".epkb-faqs__item__answer").stop().slideDown(400),t.toggleClass("epkb-faqs__item-container--active")})),e(document).on("click",'.epkb-faqs-toggle-mode .epkb-faqs__item__question[data-faq-type="module"]',(function(){let t=e(this).closest(".epkb-faqs__item-container").eq(0);e(".epkb-faqs__item-container--active").not(t).removeClass("epkb-faqs__item-container--active").find(".epkb-faqs__item__answer").stop().slideUp(400),t.hasClass("epkb-faqs__item-container--active")?t.find(".epkb-faqs__item__answer").stop().slideUp(400):t.find(".epkb-faqs__item__answer").stop().slideDown(400),t.toggleClass("epkb-faqs__item-container--active")})),r(),e(document).on("click",".eckb-article-list-show-more-container",(function(){0!==e("#eckb-archive-page-container").length&&(e(this).parent().find(".eckb-article-container").removeClass("epkb-hide-elem"),e(".eckb-article-list-show-more-container").hide())})),e(window).trigger("resize")}));