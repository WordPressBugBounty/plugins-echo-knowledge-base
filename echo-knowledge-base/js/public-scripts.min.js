jQuery(document).ready((function(e){let t;t=e("#epkb-modular-main-page-container").length?e("#epkb-modular-main-page-container"):e(".epkb-block-main-page-container").length?e(".epkb-block-main-page-container"):e("#epkb-main-page-container");let a=e("#epkb-content-container"),i=e(".epkb-nav-tabs li"),l=e(".epkb-tab-panel"),n=e("#eckb-article-content-body"),s=e(".eckb-article-toc");if(e("body").on("submit","#epkb_search_form",(function(t){if(t.preventDefault(),""===e("#epkb_search_terms").val())return;let a={action:"epkb-search-kb",epkb_kb_id:e("#epkb_kb_id").val(),search_words:e("#epkb_search_terms").val(),is_kb_main_page:e(".eckb_search_on_main_page").length},i="";e.ajax({type:"GET",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(t){e(".loading-spinner").css("display","block"),e("#epkb-ajax-in-progress").show()}}).done((function(t){t=t||"",e(".loading-spinner").css("display","none"),i=t.error||"success"!==t.status?epkb_vars.msg_try_again:t.search_result})).fail((function(e,t,a){i=epkb_vars.msg_try_again+". ["+(a||epkb_vars.unknown_error)+"]"})).always((function(){e("#epkb-ajax-in-progress").hide(),i&&(e("#epkb_search_results").css("display","block"),e("#epkb_search_results").html(i))}))})),e("#epkb_search_terms").on("keyup",(function(){this.value||e("#epkb_search_results").css("display","none")})),e("body").on("submit","#epkb-ml-search-form",(function(t){if(t.preventDefault(),e(this).closest(".eckb-block-editor-preview").length)return;if(""===e(".epkb-ml-search-box__input").val())return;const a=e(this).data("kb-block-post-id");let i={action:"epkb-search-kb",epkb_kb_id:e("#epkb_kb_id").val(),search_words:e(".epkb-ml-search-box__input").val(),is_kb_main_page:e(".eckb_search_on_main_page").length||(a?1:0),kb_block_post_id:a||0},l="";e.ajax({type:"GET",dataType:"json",data:i,url:epkb_vars.ajaxurl,beforeSend:function(t){e(".epkbfa-ml-loading-icon").css("visibility","visible"),e(".epkbfa-ml-search-icon").css("visibility","hidden"),e(".epkb-ml-search-box__text").css("visibility","hidden"),e("#epkb-ajax-in-progress").show()}}).done((function(t){t=t||"",e(".epkbfa-ml-loading-icon").css("visibility","hidden"),e(".epkbfa-ml-search-icon").css("visibility","visible"),e(".epkb-ml-search-box__text").css("visibility","visible"),l=t.error||"success"!==t.status?epkb_vars.msg_try_again:t.search_result})).fail((function(e,t,a){l=epkb_vars.msg_try_again+". ["+(a||epkb_vars.unknown_error)+"]"})).always((function(){e("#epkb-ajax-in-progress").hide(),l&&e("#epkb-ml-search-results").css("display","block").html(l)}))})),e(document).on("click",(function(t){let a=e("#epkb-ml-search-results"),i=e("#epkb-ml-search-box"),l=a.has(t.target).length>0,n=i.has(t.target).length>0;l||n||a.hide()})),e(".epkb-ml-search-box__input").on("keyup",(function(){this.value||e("#epkb-ml-search-results").css("display","none")})),a.length&&i.length){let C=0;a.find(i).each((function(){let t=e(this).outerHeight(!0);t>C&&(C=t)})),a.find(i).css("min-height",C)}function o(t){e(".epkb-panel-container ."+t).addClass("active")}function c(e,t){let a=window.location.href;a=function(e,t,a){let i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),l=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+a+"$2"):e+l+t+"="+a}(a,"top-category",t),window.history.pushState({tab:e},"title",a)}window.onpopstate=function(t){t.state&&-1!==t.state.tab.indexOf("epkb_tab_")?(a.find(".epkb_top_panel").removeClass("active"),e("#main-category-selection").length>0?e("#main-category-selection").val(a.find("#"+t.state.tab).val()):(a.find(".epkb_top_categories").removeClass("active"),a.find("#"+t.state.tab).addClass("active")),a.find("."+t.state.tab).addClass("active")):e("#epkb_tab_1").length>0&&!a.find("#epkb_tab_1").hasClass("active")&&(a.find(".epkb_top_panel").removeClass("active"),e("#main-category-selection").length>0?e("#main-category-selection").val(a.find("#epkb_tab_1").val()):(a.find(".epkb_top_categories").removeClass("active"),a.find("#epkb_tab_1").addClass("active")),a.find(".epkb_tab_1").addClass("active"))},a.find(i).each((function(){e(this).on("click",(function(){a.find(i).removeClass("active"),e(this).addClass("active"),a.find(l).removeClass("active"),o(e(this).attr("id")),c(e(this).attr("id"),e(this).data("cat-name"))}))})),e(document).on("change","#main-category-selection",(function(){e("#epkb-content-container").find(".epkb-tab-panel").removeClass("active"),e("#main-category-selection option:selected").each((function(){o(e(this).attr("id")),e(this).closest(".eckb-block-editor-preview").length||c(e(this).attr("id"),e(this).data("cat-name"))}))})),e("#epkb-ml-tabs-layout .epkb-ml-articles-show-more").on("click",(function(t){t.preventDefault(),e(this).hide(),e(this).parent().find(".epkb-list-column li").removeClass("epkb-ml-article-hide")})),e(".epkb-section-body .epkb-category-level-2-3").each((function(){e(this).on("click",(function(){e(this).parent().children("ul").toggleClass("active");let t=e(this).parent().children("ul").data("list-id");switch(e(this).attr("aria-expanded")){case"true":e(this).attr("aria-expanded","false"),e(this).parent().find('.epkb-show-all-articles[data-btn-id="'+t+'"]').removeClass("epkb-show-all-btn--active");break;case"false":e(this).attr("aria-expanded","true"),e(this).parent().find('.epkb-show-all-articles[data-btn-id="'+t+'"]').addClass("epkb-show-all-btn--active")}}))})),a.find(".epkb-section-body .epkb-category-level-2-3").each((function(){if(e(this).hasClass("epkb-category-focused"))return;let t=e(this).find(".epkb-category-level-2-3__cat-icon");e(this).on("click",(function(){function e(e){t.hasClass(e[0])?(t.removeClass(e[0]),t.addClass(e[1])):t.hasClass(e[1])&&(t.removeClass(e[1]),t.addClass(e[0]))}e(["ep_font_icon_plus","ep_font_icon_minus"]),e(["ep_font_icon_plus_box","ep_font_icon_minus_box"]),e(["ep_font_icon_right_arrow","ep_font_icon_down_arrow"]),e(["ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_down"]),e(["ep_font_icon_arrow_carrot_right_circle","ep_font_icon_arrow_carrot_down_circle"]),e(["ep_font_icon_folder_add","ep_font_icon_folder_open"])}))})),t.find(".epkb-show-all-articles").on("click",(function(){e(this).toggleClass("epkb-show-articles");let t=e(this).data("btn-id"),a=e('[data-list-id="'+t+'"]').find("li");e(this).hasClass("epkb-show-articles")?(e(this).find(".epkb-show-text").addClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").removeClass("epkb-hide-elem"),e(this).attr("aria-expanded","true")):(e(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").addClass("epkb-hide-elem"),e(this).attr("aria-expanded","false")),e(a).each((function(){e(this).hasClass("epkb-hide-elem")?(e(this).removeClass("epkb-hide-elem"),e(this).addClass("visible")):e(this).hasClass("visible")&&(e(this).removeClass("visible"),e(this).addClass("epkb-hide-elem"))}))}));let r=e("#epkb-search-kb").text();e("#epkb-search-kb").text(r),e("body").on("click",".eckb-print-button-container, .eckb-print-button-meta-container",(function(t){e("body").hasClass("epkb-editor-preview")||(e("#eckb-article-content").parents().each((function(){e(this).siblings().addClass("eckb-print-hidden")})),window.print())}));let _={firstLevel:1,lastLevel:6,searchStr:"",currentId:"",offset:50,excludeClass:!1,init:function(){this.getOptions();let t=this.getArticleHeaders();if(t.length>0)s.html(this.getToCHTML(t)),e("#eckb-article-content .eckb-article-toc").length>0&&e("#eckb-article-content .eckb-article-toc").html(this.getToCHTML(t,"h2"));else if(s.hide(),e("body").hasClass("epkb-editor-preview")){s.show();let e=`\n\t\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t\t<h4 class="eckb-article-toc__title">${s.find(".eckb-article-toc__title").html()}</h4>\n\t\t\t\t\t\t\t<nav class="eckb-article-toc-outline" role="navigation" aria-label="${epkb_vars.toc_aria_label}">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>${epkb_vars.toc_editor_msg}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t`;s.html(e)}let a=this;if(e(".eckb-article-toc__level a").on("click",(function(t){if(e(".epkb-editor-preview").length)return void t.preventDefault();let i=e(this).data("target");if(!i||0===e("[data-id="+i+"]").length)return!1;let l=e("[data-id="+i+"]").offset().top-a.offset,n=parseInt(e(this).closest(".eckb-article-toc").data("speed"));return e("body, html").animate({scrollTop:l},n),!1})),e(window).on("scroll",this.scrollSpy),this.scrollSpy(),!location.hash)return;let i=e("[data-target="+location.hash.slice(1)+"]");i.length&&i.trigger("click")},getOptions:function(){for(s.data("min")&&(this.firstLevel=s.data("min")),s.data("max")&&(this.lastLevel=s.data("max")),s.data("offset")?this.offset=s.data("offset"):s.data("offset",this.offset),void 0!==s.data("exclude_class")&&(this.excludeClass=s.data("exclude_class"));this.firstLevel<=this.lastLevel;)this.searchStr+="h"+this.firstLevel+(this.firstLevel<this.lastLevel?",":""),this.firstLevel++},getArticleHeaders:function(){let t=[],a=this;if(n.find(a.searchStr).each((function(){if(0===e(this).text().length)return;if(a.excludeClass&&e(this).hasClass(a.excludeClass))return;let i,l={};e(this).data("id")?i=e(this).data("id"):(i="articleTOC_"+t.length,e(this).attr("data-id",i)),l.id=i,l.title=e(this).text(),"H1"===e(this).prop("tagName")?l.level=1:"H2"===e(this).prop("tagName")?l.level=2:"H3"===e(this).prop("tagName")?l.level=3:"H4"===e(this).prop("tagName")?l.level=4:"H5"===e(this).prop("tagName")?l.level=5:"H6"===e(this).prop("tagName")&&(l.level=6),t.push(l)})),0===t.length)return t;let i=1,l=6;t.forEach((function(e){e.level>i&&(i=e.level),e.level<l&&(l=e.level)})),l>1&&t.forEach((function(e,a){t[a].level=e.level-l+1}));let s=1;for(;s<i;){let e=!1;t.forEach((function(t){t.level==s&&(e=!0)})),e?s++:t.forEach((function(e,a){e.level>s&&(t[a].level=e.level-1)})),s++}return t},getToCHTML:function(e,t="h4"){let a;if(s.find(".eckb-article-toc__title").length){let e=s.find(".eckb-article-toc__title").html();a=`\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<${t} class="eckb-article-toc__title">${e}</${t}>\n\t\t\t\t\t\t<nav class="eckb-article-toc-outline" role="navigation" aria-label="${epkb_vars.toc_aria_label}">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t`}else a='\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t';return e.forEach((function(e){let t=new URL(location.href);t.hash=e.id,t=t.toString(),a+=`<li class="eckb-article-toc__level eckb-article-toc__level-${e.level}"><a href="${t}" data-target="${e.id}">${e.title}</a></li>`})),a+="\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</div>\n\t\t\t\t",a},scrollSpy:function(){let t=e(window).scrollTop(),a=e(window).scrollTop()+e(window).height(),i=!1,l=!1,n=s.data("offset");if(a==e(document).height()?(i=!0,l=e(".eckb-article-toc__level a").last(),e(".eckb-article-toc__level a").removeClass("active"),l.addClass("active")):e(".eckb-article-toc__level a").each((function(s){if(e(this).removeClass("active"),i)return!0;let o=e(this).data("target");if(!o||0===e("[data-id="+o+"]").length)return!0;let c=e("[data-id="+o+"]"),r=c.offset().top,_=c.offset().top+c.height();if(s+1===e(".eckb-article-toc__level a").length)_=c.parent().offset().top+c.parent().height();else{let t=e(".eckb-article-toc__level a").eq(s+1).data("target");t&&e("[data-id="+t+"]").length&&(_=e("[data-id="+t+"]").offset().top)}r-=n,_-=n+1;let d=!1;(r<a&&r>t||_<a&&_>t||r<t&&_>a)&&(d=!0),d&&(e(this).addClass("active"),i=!0,l=e(this))})),!l||0===l.length||!i)return;let o=l.position().top;(o<0||o>l.closest(".eckb-article-toc__inner").height())&&l.closest(".eckb-article-toc__inner").scrollTop(o-l.closest(".eckb-article-toc__inner").find(".eckb-article-toc__title").position().top)}};function d(e,t,a){if("show"===e){let e='<div class="epkb-admin-dialog-box-loading"><div class="epkb-admin-dbl__header"><div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(t?'<div class="epkb-admin-text">'+t+"</div>":"")+'</div></div><div class="epkb-admin-dialog-box-overlay"></div>';a.append(e)}else"remove"===e&&(a.find(".epkb-admin-dialog-box-loading").remove(),a.find(".epkb-admin-dialog-box-overlay").remove())}if(setTimeout((function(){s.length&&_.init();let t=e("#eckb-article-content-body").position(),a=e(window).width(),i=void 0===e("#eckb-article-page-container-v2").data("mobile_breakpoint")?768:e("#eckb-article-page-container-v2").data("mobile_breakpoint");e(".eckb-article-page--L-sidebar-to-content").length>0&&a>i&&e("#eckb-article-page-container-v2").find("#eckb-article-left-sidebar ").css("margin-top",t.top+"px"),e(".eckb-article-page--R-sidebar-to-content").length>0&&a>i&&e("#eckb-article-page-container-v2").find("#eckb-article-right-sidebar ").css("margin-top",t.top+"px"),s.length&&function(){let t=e(window).width(),a=void 0===e("#eckb-article-page-container-v2").data("mobile_breakpoint")?111:e("#eckb-article-page-container-v2").data("mobile_breakpoint");if(t>a)return;if(e("#eckb-article-content-header-v2 .eckb-article-toc").length)return;if(e("#eckb-article-left-sidebar .eckb-article-toc").length)return void e("#eckb-article-content-header-v2").append(e("#eckb-article-left-sidebar .eckb-article-toc"));e("#eckb-article-right-sidebar .eckb-article-toc").length&&e("#eckb-article-content-header-v2").append(e("#eckb-article-right-sidebar .eckb-article-toc"))}()}),500),e(document).on("click","#eckb-kb-create-demo-data",(function(t){if(t.preventDefault(),e(this).closest(".epkb-editor-preview, .eckb-block-editor-preview").length)return;let a={action:"epkb_create_kb_demo_data",epkb_kb_id:e(this).data("id"),_wpnonce_epkb_ajax_action:epkb_vars.nonce},i=e(this).closest(".eckb-kb-no-content"),l=e(".eckb-kb-no-content").find("#epkb-created-kb-content"),n=epkb_vars.creating_demo_data?epkb_vars.creating_demo_data:"";e.ajax({type:"POST",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(e){d("show",n,i)}}).done((function(e){void 0!==(e=e||"").message&&l.addClass("epkb-dialog-box-form--active")})).fail((function(e,t,a){l.addClass("epkb-dialog-box-form--active").find(".epkb-dbf__body").html(a)})).always((function(){d("remove","",i)}))})),e(document).on("click",".eckb-kb-no-content #epkb-created-kb-content .epkb-dbf__footer__accept__btn",(function(){location.reload()})),0===e("#elay-sidebar-container-v2").length&&e("#epkb-sidebar-container-v2").length>0){function b(e,t){let a=["ep_font_icon_plus","ep_font_icon_plus_box","ep_font_icon_right_arrow","ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_right_circle","ep_font_icon_folder_add"],i=["ep_font_icon_minus","ep_font_icon_minus_box","ep_font_icon_down_arrow","ep_font_icon_arrow_carrot_down","ep_font_icon_arrow_carrot_down_circle","ep_font_icon_folder_open"],l=a.indexOf(t),n=i.indexOf(t);l>=0?(e.removeClass(a[l]),e.addClass(i[l])):n>=0&&(e.removeClass(i[n]),e.addClass(a[n]))}let w=e("#epkb-sidebar-container-v2");w.on("click",".epkb-top-class-collapse-on",(function(t){void 0!==t.originalEvent&&(e(t.originalEvent.target).hasClass("epkb-editor-zone__tab--active")||e(t.originalEvent.target).hasClass("epkb-editor-zone__tab--parent"))||(e(this).parent().toggleClass("epkb-active-top-category"),e(this).parent().find(e(".epkb-sidebar__cat__top-cat__body-container")).slideToggle())})),w.on("click",".epkb-sidebar__cat__top-cat__heading-container",(function(t){if(void 0!==t.originalEvent&&(e(t.originalEvent.target).hasClass("epkb-editor-zone__tab--active")||e(t.originalEvent.target).hasClass("epkb-editor-zone__tab--parent")))return;let a=e(this).find(".epkb-sidebar__heading__inner span");a.length>0&&b(a,a.attr("class").match(/\ep_font_icon_\S+/g)[0])})),w.on("click",".epkb-category-level-2-3",(function(){e(this).next().slideToggle(),e(this).next().next().slideToggle()})),w.on("click",".epkb-category-level-2-3",(function(){let t=e(this).find("span");t.length>0&&b(t,t.attr("class").match(/\ep_font_icon_\S+/g)[0])})),w.on("click",".epkb-show-all-articles",(function(){e(this).toggleClass("active");let t=e(this).parent("ul").find("li");e(this).hasClass("active")?(e(this).find(".epkb-show-text").addClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").removeClass("epkb-hide-elem"),e(this).attr("aria-expanded","true")):(e(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),e(this).find(".epkb-hide-text").addClass("epkb-hide-elem"),e(this).attr("aria-expanded","false")),e(t).each((function(){e(this).hasClass("epkb-hide-elem")?(e(this).removeClass("epkb-hide-elem"),e(this).addClass("visible")):e(this).hasClass("visible")&&(e(this).removeClass("visible"),e(this).addClass("epkb-hide-elem"))}))})),function(){let t=e("#eckb-article-content");if(void 0===t.data("article-id"))return;let a=t.data("article-id");if(void 0!==t.data("kb_article_seq_no")&&t.data("kb_article_seq_no")>0){let i=a+"_"+t.data("kb_article_seq_no");a=e("#sidebar_link_"+i).length>0?i:a}e(".epkb-sidebar__cat__top-cat li").removeClass("active"),e(".epkb-category-level-1").removeClass("active"),e(".epkb-category-level-2-3").removeClass("active"),e(".epkb-sidebar__cat__top-cat__heading-container").removeClass("active");let i=e("#sidebar_link_"+a);i.addClass("active"),i.parents(".epkb-sub-sub-category, .epkb-articles").each((function(){let t=e(this).parent().children(".epkb-category-level-2-3");if(!t.length)return!0;if(!t.hasClass("epkb-category-level-2-3"))return!0;t.next().show(),t.next().next().show();let a=t.find(".epkb_sidebar_expand_category_icon");a.length>0&&b(a,a.attr("class").match(/\ep_font_icon_\S+/g)[0])})),i.closest(".epkb-sidebar__cat__top-cat").parent().toggleClass("epkb-active-top-category"),i.closest(".epkb-sidebar__cat__top-cat").find(e(".epkb-sidebar__cat__top-cat__body-container")).show();let l=i.closest(".epkb-sidebar__cat__top-cat").find(".epkb-sidebar__cat__top-cat__heading-container .epkb-sidebar__heading__inner span");l.length>0&&b(l,l.attr("class").match(/\ep_font_icon_\S+/g)[0])}(),function(){let t=e(".epkb-sidebar__cat__current-cat");if(!t.length)return;let a=t.closest("li");for(let e=0;e<5;e++)a.length&&(a.hasClass("epkb-sidebar__cat__top-cat")&&(a.find(".epkb-sidebar__cat__top-cat__body-container").css("display","block"),a.closest(".epkb-sidebar__cat__top-cat__body-container").css("display","block")),a.children("ul").show(),a=a.closest("li").closest("ul").parent());let i,l=t.closest("li");for(let e=0;e<5;e++){if(i=l.find("span").first(),l=i.closest("ul").closest("ul").closest("li"),i.length){let e=i.attr("class").match(/\ep_font_icon_\S+/g);e&&b(i,e[0])}l.find("div[class^=elay-category]").first().addClass("active"),0===e&&(l.find(".epkb-sidebar__cat__top-cat__body-container").css("display","block"),l.closest(".epkb-sidebar__cat__top-cat__body-container").css("display","block"))}}()}e(document).on("click","#epkb-ml-classic-layout .epkb-ml-articles-show-more",(function(){e(this).parent().parent().toggleClass("epkb-category-section--active"),e(this).parent().parent().find(".epkb-category-section__body").slideToggle(),e(this).find(".epkb-ml-articles-show-more__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus");e(this).find(".epkb-ml-articles-show-more__show-more__icon").hasClass("epkbfa-minus")?e(this).parent().find(".epkb-ml-article-count").hide():e(this).parent().find(".epkb-ml-article-count").show()})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-2-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-2-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-2-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-2-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-3-lvl-categories").slideToggle(),e(this).find(".epkb-ml-2-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-2-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-3-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-3-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-3-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-3-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-4-lvl-categories").slideToggle(),e(this).find(".epkb-ml-3-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-3-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-4-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-4-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-4-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-4-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-5-lvl-categories").slideToggle(),e(this).find(".epkb-ml-4-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-4-lvl-category--active"))})),e(document).on("click","#epkb-ml-classic-layout .epkb-ml-5-lvl-category-container",(function(t){e(this).hasClass("epkb-ml-5-lvl-category--active")&&!e(t.target).hasClass("epkb-ml-5-lvl-category__show-more__icon")||(e(this).find(".epkb-ml-5-lvl-article-list").slideToggle(),e(this).find(".epkb-ml-5-lvl-category__show-more__icon").toggleClass("epkbfa-plus epkbfa-minus"),e(this).toggleClass("epkb-ml-5-lvl-category--active"))}));const p="epkb-ml__cat-content--show",k="epkb-ml-top__cat-container--active",h="epkb-ml__cat-container--active",f="epkb-ml-categories-button-container--active",v="epkb-ml-categories-button-container--show",m="epkb-back-button--active";function g(t){const a=e(".epkb-ml-all-categories-content-container");a.hide();let i=t.offset().top,l=!1;e(".epkb-ml-top__cat-container").each((function(){if(e(this).offset().top-i>0)return a.insertAfter(e(this).prev(".epkb-ml-top__cat-container")),l=!0,!1;e(this).next(".epkb-ml-top__cat-container").length||a.insertAfter(e(this))})),a.show()}function u(t){if(void 0!==epkb_vars.article_view_sent)return;let a={action:"epkb_count_article_view",article_id:t,_wpnonce_epkb_ajax_action:epkb_vars.nonce};e.ajax({type:"POST",dataType:"json",data:a,url:epkb_vars.ajaxurl,beforeSend:function(e){epkb_vars.article_view_sent=!0}})}e(document).on("click",".epkb-ml-top__cat-container",(function(){const t=e(".epkb-ml-all-categories-content-container");if(e(".epkb-ml-top__cat-container").removeClass(k),e(this).hasClass(k))return e(this).removeClass(k),void t.hide();t.find(".epkb-back-button").removeClass(m);let a=e(this);e(this).removeClass(k),a.addClass(k),g(a),e(".epkb-ml-categories-button-container").removeClass(f+" "+v),e(".epkb-ml__cat-content").removeClass(p),e(".epkb-ml__cat-container").removeClass(h),t.show();const i=e(this).data("cat-id");e('.epkb-ml-1-lvl__cat-content[data-cat-id="'+i+'"]').addClass(p),e('.epkb-ml-2-lvl-categories-button-container[data-cat-level="1"][data-cat-id="'+i+'"]').addClass(v)})),e(window).resize((function(){let t=setTimeout((function(){t&&clearTimeout(t);let a=e("."+k);a.length&&g(a)}),1e3)})),e(document).on("click",".epkb-ml__cat-container",(function(){if(e(this).hasClass(h))return;e(".epkb-ml-all-categories-content-container .epkb-back-button").addClass(m);const t=parseInt(e(this).data("cat-level")),a=e(this).data("cat-id"),i=t-1,l=e(this).data("parent-cat-id"),n=t+1;e(this).addClass(h),e(".epkb-ml-"+t+'-lvl-categories-button-container[data-cat-id="'+l+'"]').addClass(f+" "+v),e(".epkb-ml-"+i+"-lvl-categories-button-container").removeClass(f+" "+v),e(".epkb-ml-"+i+"-lvl__cat-container").removeClass(h),e(".epkb-ml-"+i+"-lvl__cat-content").removeClass(p),e(".epkb-ml-"+t+'-lvl__cat-content[data-cat-id="'+a+'"]').addClass(p),e(".epkb-ml-"+n+'-lvl-categories-button-container[data-cat-id="'+a+'"]').addClass(v)})),e(document).on("click",".epkb-back-button",(function(){let t=e(".epkb-ml__cat-content."+p),a=parseInt(t.data("cat-level")),i=a+1;if(1===a)return e(".epkb-ml-top__cat-container").removeClass(k),void e(".epkb-ml-all-categories-content-container").hide();let l=t.data("parent-cat-id"),n=a-1;1===n&&e(".epkb-ml-all-categories-content-container .epkb-back-button").removeClass(m),e(".epkb-ml-"+a+"-lvl-categories-button-container").removeClass(f),e(".epkb-ml-"+a+"-lvl__cat-container").removeClass(h),e(".epkb-ml-"+a+"-lvl__cat-content").removeClass(p),e(".epkb-ml-"+i+"-lvl-categories-button-container").removeClass(f+" "+v);let s=e(".epkb-ml-"+n+'-lvl__cat-container[data-cat-id="'+l+'"]');s.closest(".epkb-ml-categories-button-container").addClass(f+" "+v),s.addClass(h),e(".epkb-ml-"+n+'-lvl__cat-content[data-cat-id="'+l+'"]').addClass(p)})),e(document).on("click",'.epkb-faqs-accordion-mode .epkb-faqs__item__question[data-faq-type="module"]',(function(){let t=e(this).closest(".epkb-faqs__item-container").eq(0);t.hasClass("epkb-faqs__item-container--active")?t.find(".epkb-faqs__item__answer").stop().slideUp(400):t.find(".epkb-faqs__item__answer").stop().slideDown(400),t.toggleClass("epkb-faqs__item-container--active")})),e(document).on("click",'.epkb-faqs-toggle-mode .epkb-faqs__item__question[data-faq-type="module"]',(function(){let t=e(this).closest(".epkb-faqs__item-container").eq(0);e(".epkb-faqs__item-container--active").not(t).removeClass("epkb-faqs__item-container--active").find(".epkb-faqs__item__answer").stop().slideUp(400),t.hasClass("epkb-faqs__item-container--active")?t.find(".epkb-faqs__item__answer").stop().slideUp(400):t.find(".epkb-faqs__item__answer").stop().slideDown(400),t.toggleClass("epkb-faqs__item-container--active")})),e("#eckb-article-content").length>0&&function(){let t=e("#eckb-article-content").data("article-id");if(null==typeof t||""==t||null==typeof epkb_vars.article_views_counter_method||""==epkb_vars.article_views_counter_method)return;"delay"===epkb_vars.article_views_counter_method&&setTimeout((function(){u(t)}),5e3);"scroll"===epkb_vars.article_views_counter_method&&e(window).one("scroll",(function(){u(t)}))}(),e("#eckb-archive-page-container").length&&e(document).on("click",".eckb-article-list-show-more-container",(function(){e(this).parent().find(".eckb-article-container").removeClass("epkb-hide-elem"),e(".eckb-article-list-show-more-container").hide()}))}));