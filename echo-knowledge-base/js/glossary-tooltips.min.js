!function(){"use strict";var t=null,e=null,o=null;function n(e){l(),o=e;var n=t||((t=document.createElement("div")).className="epkb-glossary-tooltip",t.innerHTML='<div class="epkb-glossary-tooltip__term"></div><div class="epkb-glossary-tooltip__definition"></div>',document.body.appendChild(t),t.addEventListener("mouseenter",function(){l()}),t.addEventListener("mouseleave",function(){s()}),t),i=e.getAttribute("data-glossary-term")||"",a=e.getAttribute("data-glossary-definition")||"";n.querySelector(".epkb-glossary-tooltip__term").textContent=i,n.querySelector(".epkb-glossary-tooltip__definition").textContent=a,n.classList.remove("epkb-glossary-tooltip--above","epkb-glossary-tooltip--below","epkb-glossary-tooltip--visible"),n.style.left="0px",n.style.top="0px",n.style.display="block";var r,d,c=e.getBoundingClientRect(),u=n.getBoundingClientRect(),p=window.pageYOffset||document.documentElement.scrollTop,m=window.pageXOffset||document.documentElement.scrollLeft;c.top>=u.height+8?(d=c.top+p-u.height-8,r="epkb-glossary-tooltip--above"):(d=c.bottom+p+8,r="epkb-glossary-tooltip--below");var g=c.left+m,v=document.documentElement.clientWidth-u.width-8;g>v&&(g=v),g<8&&(g=8),n.style.top=d+"px",n.style.left=g+"px",n.classList.add(r),n.classList.add("epkb-glossary-tooltip--visible")}function s(){t&&t.classList.remove("epkb-glossary-tooltip--visible"),o=null}function i(){e=setTimeout(s,150)}function l(){e&&(clearTimeout(e),e=null)}function a(){var e=document.querySelectorAll(".epkb-glossary-term");if(e.length){var l="ontouchstart"in window||navigator.maxTouchPoints>0;e.forEach(function(t){t.addEventListener("mouseenter",function(){n(t)}),t.addEventListener("mouseleave",function(){i()}),t.addEventListener("focus",function(){n(t)}),t.addEventListener("blur",function(){i()}),l&&t.addEventListener("click",function(e){e.preventDefault(),o===t?s():n(t)})}),document.addEventListener("keydown",function(t){"Escape"===t.key&&s()}),l&&document.addEventListener("touchstart",function(e){t&&(e.target.closest(".epkb-glossary-term")||e.target.closest(".epkb-glossary-tooltip")||s())})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}();