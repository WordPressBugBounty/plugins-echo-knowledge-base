(function(){"use strict";const{useState:e,useEffect:a,createElement:s}=wp.element;const{__:t}=wp.i18n;const{showError:n,showSuccess:i,makeApiRequest:l}=window.EPKB_AI_Util_React||{};const o=({settings:e,tabData:a,isLoading:n,onTabSwitch:i})=>{const l=a?.status||null;const o=e?.show_get_started||l?.show_get_started;const c=()=>{if(!l){return null}if(o){return null}if(l.overall==="success"){return s("div",{className:"epkb-ai-status-success"},s("div",{className:"epkb-ai-notice epkb-ai-notice-success"},s("p",null,s("span",{className:"epkbfa epkbfa-check-circle"})," ",t("AI features are properly configured and ready to use!","echo-knowledge-base"))))}if(!o&&(l.overall==="error"||l.overall==="warning")){const e=[...l.issues||[],...l.warnings||[]];if(e.length>0){return s("div",{className:"epkb-ai-status-issues"},s("div",{className:"epkb-ai-status-section"},s("h3",null,t("Warnings","echo-knowledge-base")),e.map(((e,a)=>s("div",{key:a,className:"epkb-ai-notice epkb-ai-notice-warning"},s("p",null,e.message),e.action&&s("p",{className:"epkb-ai-action"},e.link?s("a",{href:e.link,className:"epkb-ai-button epkb-ai-button-small"},e.action):e.action))))))}return s("div",{className:"epkb-ai-status-issues"},l.warnings.length>0&&s("div",{className:"epkb-ai-status-section"},s("h3",null,t("Warnings","echo-knowledge-base")),l.warnings.map(((e,a)=>s("div",{key:a,className:"epkb-ai-notice epkb-ai-notice-warning"},s("p",null,e.message),e.action&&s("p",{className:"epkb-ai-action"},e.link?s("a",{href:e.link,className:"epkb-ai-button epkb-ai-button-small"},e.action):e.action))))))}return null};const p=()=>s("div",{className:"epkb-ai-welcome-setup"},s("div",{className:"epkb-ai-welcome-header"},s("h2",null,t("Welcome to AI Features!","echo-knowledge-base")),s("p",null,t("Let's get you set up with AI-powered chat and search in just a few steps.","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-steps-welcome"},s("div",{className:"epkb-ai-setup-step-welcome"},s("span",{className:"epkb-ai-step-icon epkbfa epkbfa-key"}),s("h3",null,t("Step 1: Add Your OpenAI API Key","echo-knowledge-base")),s("p",null,t("Connect your OpenAI account to enable AI features.","echo-knowledge-base")),s("button",{className:"epkb-ai-button epkb-ai-button-primary",onClick:()=>{if(i){i("general-settings")}}},t("Go to Settings","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-step-welcome"},s("span",{className:"epkb-ai-step-icon epkbfa epkbfa-check-square-o"}),s("h3",null,t("Step 2: Accept Data Privacy Terms","echo-knowledge-base")),s("p",null,t("Review how your content will be processed by AI services.","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-step-welcome"},s("span",{className:"epkb-ai-step-icon epkbfa epkbfa-database"}),s("h3",null,t("Step 3: Sync Your Content","echo-knowledge-base")),s("p",null,t("Upload your knowledge base articles to train the AI.","echo-knowledge-base")))));const b=e=>s("div",{className:"epkb-ai-setup-needed"},s("div",{className:"epkb-ai-setup-header"},s("h3",null,t("Complete Your Setup","echo-knowledge-base")),s("p",null,t("Just a few more steps to enable AI features:","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-steps-list"},e.map(((e,a)=>s("div",{key:a,className:"epkb-ai-setup-item"},s("div",{className:"epkb-ai-setup-item-content"},s("span",{className:"epkb-ai-step-number"},a+1),s("div",null,s("p",{className:"epkb-ai-setup-message"},e.message),e.link&&s("a",{href:e.link,className:"epkb-ai-button epkb-ai-button-small epkb-ai-button-primary"},e.action))))))));const u=()=>{const e=a?.dashboard_stats||{};return s("div",{className:"epkb-ai-stats-grid"},Object.values(e).map(((e,a)=>s("div",{key:a,className:"epkb-ai-stat-box"+(e.is_coming_soon?" epkb-ai-stat-box-coming-soon":""),style:{borderTopColor:e.color}},s("div",{className:"epkb-ai-stat-header"},s("div",{className:"epkb-ai-stat-icon",style:{backgroundColor:e.color+"15"}},s("span",{className:e.icon,style:{color:e.color}})),s("h3",null,e.title)),s("div",{className:"epkb-ai-stat-content"},e.is_coming_soon?s("div",{className:"epkb-ai-coming-soon"},s("span",{className:"epkb-ai-coming-soon-badge"},e.value),s("p",{className:"epkb-ai-stat-description"},e.description)):s("div",null,s("p",{className:"epkb-ai-stat-description"},e.description),(e.show_as_main||e.total!==undefined)&&s("div",{className:"epkb-ai-stat-numbers"},s("span",{className:"epkb-ai-stat-number"},e.value||"0"))),e.bottom_text&&s("div",{className:"epkb-ai-stat-bottom"},s("span",null,e.bottom_text)))))))};const r=()=>{if(!o){return null}const e=l?.checks?.api_key?.status==="success";const n=l?.checks?.disclaimer?.status==="success";const c=a?.dashboard_stats?.training_data?.total>0;const p=a?.dashboard_stats?.training_data?.synced>0;const b=!o;const u=e&&n;return s("div",{className:"epkb-ai-setup-guide"},s("h3",null,t("Get Started with AI","echo-knowledge-base")),s("div",{className:"epkb-ai-setup-steps"},s("div",{className:"epkb-ai-setup-step"},s("span",{className:"epkb-ai-step-number"+(u?" epkb-ai-step-completed":"")},u?"":"1"),s("h4",null,t("Configure API Key & Privacy","echo-knowledge-base")),s("p",null,t("Add your OpenAI API key and accept the data privacy agreement","echo-knowledge-base")),!u&&s("button",{className:"epkb-ai-button epkb-ai-button-small",onClick:()=>{if(i){i("general-settings")}}},t("Go to Settings","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-step"},s("span",{className:"epkb-ai-step-number"+(c?" epkb-ai-step-completed":"")},c?"":"2"),s("h4",null,t("Configure Training Data","echo-knowledge-base")),s("p",null,t("Select which content to include in your AI knowledge base","echo-knowledge-base")),!c&&s("button",{className:"epkb-ai-button epkb-ai-button-small",onClick:()=>{if(i){i("training-data")}}},t("Configure Training Data","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-step"},s("span",{className:"epkb-ai-step-number"+(p?" epkb-ai-step-completed":"")},p?"":"3"),s("h4",null,t("Start Sync Process","echo-knowledge-base")),s("p",null,t("Upload your content to OpenAI for AI processing","echo-knowledge-base")),!p&&c&&s("button",{className:"epkb-ai-button epkb-ai-button-small",onClick:()=>{if(i){i("training-data")}}},t("Go to Training Data","echo-knowledge-base"))),s("div",{className:"epkb-ai-setup-step"},s("span",{className:"epkb-ai-step-number"+(b?" epkb-ai-step-completed":"")},b?"":"4"),s("h4",null,t("Test AI Features","echo-knowledge-base")),s("p",null,t("Try chat and search on your website to see AI in action","echo-knowledge-base")))))};const k=()=>{const e=a?.news||[];if(e.length===0){return null}return s("div",{className:"epkb-ai-news-section"},s("h3",null,t("Latest Updates","echo-knowledge-base")),s("div",{className:"epkb-ai-news-items"},e.map(((e,a)=>s("div",{key:a,className:`epkb-ai-news-item epkb-ai-news-${e.type}`},s("div",{className:"epkb-ai-news-header"},s("span",{className:"epkb-ai-news-date"},e.date),s("span",{className:`epkb-ai-news-badge epkb-ai-news-badge-${e.type}`},e.type)),s("h4",null,e.title),s("p",null,e.description),e.link&&s("a",{href:e.link,target:"_blank",className:"epkb-ai-news-link"},t("Learn more","echo-knowledge-base")," â†’"))))))};const d=()=>{const e=a?.upcoming_features||[];if(e.length===0){return null}return s("div",{className:"epkb-ai-upcoming-features"},s("h3",null,t("Upcoming Features","echo-knowledge-base")),s("div",{className:"epkb-ai-features-grid"},e.map(((e,a)=>s("div",{key:a,className:"epkb-ai-feature-card"},s("div",{className:"epkb-ai-feature-header"},s("span",{className:e.icon}),s("span",{className:`epkb-ai-status-badge epkb-ai-status-${e.status}`},e.release_date)),s("h4",null,e.title),s("p",null,e.description))))),s("div",{className:"epkb-ai-upcoming-features-disclaimer"},s("p",null,t("Note: Future features are subject to change.","echo-knowledge-base"))))};const m=()=>{const e=a?.quick_links||[];if(e.length===0){return null}return s("div",{className:"epkb-ai-quick-links"},s("h3",null,t("Quick Actions","echo-knowledge-base")),s("div",{className:"epkb-ai-links-grid"},e.map(((e,a)=>s("a",{key:a,href:e.link,target:e.external?"_blank":"_self",className:"epkb-ai-quick-link"},s("span",{className:e.icon}),s("div",null,s("h4",null,e.title),s("p",null,e.description)))))))};return s("div",{className:"epkb-ai-dashboard-container epkb-ai-dashboard-beta"},r(),c(),u(),s("div",{className:"epkb-ai-dashboard-columns"},s("div",{className:"epkb-ai-dashboard-main"},k(),d()),s("div",{className:"epkb-ai-dashboard-sidebar"},m())))};window.EPKB_AI_Dashboard={AIAdminDashboard:o}})();