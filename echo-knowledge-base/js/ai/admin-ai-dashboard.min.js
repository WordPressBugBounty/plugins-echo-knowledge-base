(function(){"use strict";const{useState:e,useEffect:a,createElement:s}=wp.element;const{__:i}=wp.i18n;const{showError:n,showSuccess:t,makeApiRequest:l}=window.EPKB_AI_Util_React||{};const c=({settings:a,tabData:l,isLoading:c})=>{const[o,r]=e(false);const[u,p]=e({email:l?.beta_signup?.form_fields?.email?.default||""});const[b,d]=e(l?.beta_signup?.signed_up||false);const m=l?.status||null;const k=(e,a)=>{p((s=>({...s,[e]:a})))};const f=async()=>{if(!u.email){n(i("Please enter your email address","echo-knowledge-base"));return}r(true);try{const e=await jQuery.ajax({url:a.ajax_url,type:"POST",data:{action:"epkb_ai_beta_signup",_wpnonce_epkb_ajax_action:a.ajax_nonce,user_email:u.email}});if(e.success){t(a.i18n.beta_signup_success);d(true)}}catch(e){n(a.i18n.beta_signup_error)}finally{r(false)}};const g=()=>{if(c&&!l){return s("div",{className:"epkb-ai-beta-signup-skeleton"},s("div",{className:"epkb-skeleton-header"}),s("div",{className:"epkb-skeleton-text"}),s("div",{className:"epkb-skeleton-form"}))}const e=l?.beta_signup||{enabled:true,title:i("Exciting AI Features Are Coming!","echo-knowledge-base"),description:i("Be among the first to experience our revolutionary AI-powered search and chat capabilities.","echo-knowledge-base"),benefits:[],form_fields:{email:{type:"email",placeholder:i("Enter your email address","echo-knowledge-base"),required:true,default:""}}};if(!e.enabled){return null}if(b){return s("div",{className:"epkb-ai-beta-signup-success"},s("div",{className:"epkb-ai-notice epkb-ai-notice-success"},s("p",null,i("Thank you for signing up for the beta program!","echo-knowledge-base"))))}return s("div",{className:"epkb-ai-announcement-content"},s("div",{className:"epkb-ai-beta-header"},s("span",{className:"epkbfa epkbfa-rocket"}),s("h2",null,e.title),s("p",null,e.description),s("form",{className:"epkb-ai-beta-form",onSubmit:e=>{e.preventDefault();f()}},s("div",{className:"epkb-ai-signup-form-wrap"},s("input",{type:"email",value:u.email,onChange:e=>k("email",e.target.value),placeholder:e.form_fields.email.placeholder,required:true,disabled:o}),s("button",{className:"epkb-ai-button epkb-ai-button-primary",onClick:f,disabled:o},s("span",{className:"epkbfa epkbfa-envelope"})," ",i("Join Beta","echo-knowledge-base"))))),s("div",{className:"epkb-ai-beta-benefits"},e.benefits.map(((e,a)=>s("div",{key:a,className:"epkb-ai-benefit-item"},s("span",{className:e.icon}),s("h4",null,e.title),s("p",null,e.description))))))};const h=()=>{if(!m){return null}if(m.overall==="success"){return s("div",{className:"epkb-ai-status-success"},s("div",{className:"epkb-ai-notice epkb-ai-notice-success"},s("p",null,s("span",{className:"epkbfa epkbfa-check-circle"})," ",i("AI features are properly configured and ready to use!","echo-knowledge-base"))))}if(m.overall==="error"||m.overall==="warning"){return s("div",{className:"epkb-ai-status-issues"},m.issues.length>0&&s("div",{className:"epkb-ai-status-section"},s("h3",null,i("Critical Issues","echo-knowledge-base")),m.issues.map(((e,a)=>s("div",{key:a,className:"epkb-ai-notice epkb-ai-notice-error"},s("p",null,e.message),e.action&&s("p",{className:"epkb-ai-action"},e.link?s("a",{href:e.link,className:"epkb-ai-button epkb-ai-button-small"},e.action):e.action))))),m.warnings.length>0&&s("div",{className:"epkb-ai-status-section"},s("h3",null,i("Warnings","echo-knowledge-base")),m.warnings.map(((e,a)=>s("div",{key:a,className:"epkb-ai-notice epkb-ai-notice-warning"},s("p",null,e.message),e.action&&s("p",{className:"epkb-ai-action"},e.link?s("a",{href:e.link,className:"epkb-ai-button epkb-ai-button-small"},e.action):e.action))))))}return null};return s("div",{className:"epkb-ai-dashboard-container"},h(),s("div",{className:"epkb-ai__announcement-box"},g()))};window.EPKB_AI_Dashboard={AIAdminDashboard:c}})();